<head><script type="module">var e={958:(e,t)=>{t.A=(e,t)=>{const l=e.__vccOpts||e;for(const[e,a]of t)l[e]=a;return l}}},t={};const l=Vue,a=VueRouter;var n=function l(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,l),o.exports}(958);const o={},c=(0,n.A)(o,[['render',function(e,t){const a=(0,l.resolveComponent)('RouterView');return(0,l.openBlock)(),(0,l.createBlock)(a)}],['__scopeId','data-v-5e288af9']]),s=c,r={class:'status-root'},i={key:0,class:'loading'},d={key:1,class:'error'},m={key:0,class:'sec'},p={class:'sec-c'},u={class:'grid2'},v={class:'prop'},k={class:'pval'},E={class:'prop'},y={class:'pval'},f={class:'prop'},N={class:'pval'},g={class:'grid2'},V={class:'prop'},h={class:'pval'},S={class:'prop'},B={class:'pval'},b={class:'prop'},C={class:'pval'},D={key:1,class:'sec'},w={class:'sec-c'},x={class:'grid2'},A={class:'prop'},M={class:'pval'},F={class:'prop'},L={class:'pval'},T={class:'prop'},P={class:'pval'},j={key:2,class:'sec'},I={class:'sec-c'},O={class:'prop'},H={class:'row between'},q={class:'pval'},R={class:'bar rank'},K={class:'grid2'},J={class:'row between'},U={class:'pname'},Z={class:'pval'},W={class:'bar'},Y={class:'grid3',style:{'margin-top':'6px'}},G={class:'prop'},Q={class:'row between'},X={class:'pval'},ee={class:'bar hp'},te={class:'prop'},le={class:'row between'},ae={class:'pval'},ne={class:'bar atk'},oe={class:'prop'},ce={class:'row between'},se={class:'pval'},re={class:'bar def'},ie={class:'prop'},de={class:'row between'},me={class:'pval'},pe={class:'bar ep'},ue={class:'prop'},ve={class:'row between'},ke={class:'pval'},Ee={class:'bar sp'},ye={class:'prop'},fe={class:'row between'},Ne={class:'pval'},ge={class:'bar sp'},Ve={class:'prop'},he={class:'row between'},Se={class:'pval'},Be={class:'bar sp'},be={class:'prop',style:{'margin-top':'8px'}},Ce={class:'grid3'},De={class:'prop'},we={class:'pval'},xe={class:'prop'},Ae={class:'pval'},$e={class:'prop'},Me={class:'pval'},Fe={class:'prop'},Le={class:'pval'},_e={class:'prop'},Te={class:'pval'},Pe={key:3,class:'sec'},je={class:'sec-c'},Ie={class:'prop'},Oe={class:'pval'},He={class:'grid2'},ze={class:'prop'},qe={class:'pval'},Re={class:'prop'},Ke={class:'pval'},Je={class:'prop'},Ue={class:'pval'},Ze={class:'prop'},We={class:'pval'},Ye={class:'prop'},Ge={class:'pval'},Qe={class:'prop'},Xe={class:'chips'},et={key:0,class:'chip'},tt={key:1,class:'empty'},lt={class:'prop'},at={class:'q-list'},nt={class:'q-name'},ot={class:'q-meta'},ct={key:0},st={key:1,class:'sep'},rt={key:2},it={key:3,class:'sep'},dt={key:4},mt={key:0,class:'empty'},pt={class:'prop'},ut={class:'q-list'},vt={class:'q-name'},kt={class:'q-meta'},Et={key:0},yt={key:1,class:'sep'},ft={key:2},Nt={key:3,class:'sep'},gt={key:4},Vt={key:0,class:'empty'},ht={key:4,class:'sec'},St={class:'sec-c'},Bt={class:'fold',open:!1},bt={class:'fold-h'},Ct={class:'list'},Dt=['onClick'],wt={class:'name'},xt={class:'meta'},At={key:0},$t={key:1,class:'sep'},Mt={key:2},Ft={key:3,class:'sep'},Lt={key:4},_t={class:'fold',open:!1},Tt={class:'fold-h'},Pt={class:'list'},jt=['onClick'],It={class:'name'},Ot={class:'meta'},Ht={key:0},zt={key:1,class:'sep'},qt={key:2},Rt={key:3,class:'sep'},Kt={key:4},Jt={class:'fold',open:!1},Ut={class:'fold-h'},Zt={class:'list'},Wt=['onClick'],Yt={class:'name'},Gt={class:'meta'},Qt={key:0,class:'sep'},Xt={key:1},el={key:2,class:'sep'},tl={key:3},ll={key:5,class:'sec'},al={class:'sec-c'},nl={class:'subtabs'},ol={class:'prop'},cl={class:'pval coin'},sl={class:'prop'},rl={class:'pname'},il={class:'list'},dl=['onClick'],ml={class:'name'},pl={class:'meta'},ul={key:0},vl={key:1,class:'sep'},kl={key:2},El={key:0,class:'empty'},yl={class:'prop'},fl={class:'pname'},Nl={class:'list'},gl=['onClick'],Vl={class:'name'},hl={class:'meta'},Sl={key:0},Bl={key:1,class:'sep'},bl={key:2},Cl={key:3,class:'sep'},Dl={key:4},wl={key:0,class:'empty'},xl={class:'prop'},Al={class:'pname'},$l={class:'list'},Ml=['onClick'],Fl={class:'name'},Ll={class:'meta'},_l={key:0},Tl={key:1,class:'sep'},Pl={key:2},jl={key:0,class:'empty'},Il={class:'prop'},Ol={class:'pname'},Hl={class:'list'},zl=['onClick'],ql={class:'name'},Rl={class:'meta'},Kl={key:0},Jl={key:1,class:'sep'},Ul={key:2},Zl={key:0,class:'empty'},Wl={class:'list'},Yl=['onClick'],Gl={class:'name'},Ql={class:'meta'},Xl={key:0},ea={key:1,class:'sep'},ta={key:2},la={class:'list'},aa=['onClick'],na={class:'name'},oa={class:'meta'},ca={key:0},sa={key:1,class:'sep'},ra={key:2},ia={key:3,class:'sep'},da={key:4},ma={class:'list'},pa=['onClick'],ua={class:'name'},va={class:'meta'},ka={key:0},Ea={key:1,class:'sep'},ya={key:2},fa={class:'list'},Na=['onClick'],ga={class:'name'},Va={class:'meta'},ha={key:0},Sa={key:1,class:'sep'},Ba={key:2},ba={class:'inf-modal-head'},Ca={class:'left'},Da={class:'inf-icon'},wa={class:'titles'},xa={class:'big-title'},Aa={key:0,class:'chips'},$a={key:0,class:'inf-metrics'},Ma={class:'metric-v'},Fa={class:'metric-k'},La={key:1,class:'inf-nav'},_a={key:0,class:'inf-section','data-sec':'attrs'},Ta={class:'grid2'},Pa={class:'row between'},ja={class:'pname'},Ia={class:'pval'},Oa={class:'bar'},Ha={class:'grid3',style:{'margin-top':'6px'}},za={class:'prop'},qa={class:'row between'},Ra={class:'pval'},Ka={class:'bar hp'},Ja={class:'prop'},Ua={class:'row between'},Za={class:'pval'},Wa={class:'bar atk'},Ya={class:'prop'},Ga={class:'row between'},Qa={class:'pval'},Xa={class:'bar def'},en={class:'prop'},tn={class:'row between'},ln={class:'pval'},an={class:'bar ep'},nn={class:'prop'},on={class:'row between'},cn={class:'pval'},sn={class:'bar sp'},rn={class:'prop',style:{'margin-top':'8px'}},dn={class:'grid3'},mn={class:'prop'},pn={class:'pval'},un={class:'prop'},vn={class:'pval'},kn={class:'prop'},En={class:'pval'},yn={class:'prop'},fn={class:'pval'},Nn={class:'prop'},gn={class:'pval'},Vn={key:0,class:'fold',open:!1,'data-sec':'equip'},hn={class:'fold-h'},Sn={class:'list'},Bn=['onClick'],bn={class:'name'},Cn={class:'meta'},Dn={key:0},wn={key:1,class:'sep'},xn={key:2},An={key:1,class:'fold',open:!1,'data-sec':'items'},$n={class:'fold-h'},Mn={class:'list'},Fn=['onClick'],Ln={class:'name'},_n={class:'meta'},Tn={key:0},Pn={key:1,class:'sep'},jn={key:2},In={key:3,class:'sep'},On={key:4},Hn={key:2,class:'fold',open:!1,'data-sec':'skills'},zn={class:'fold-h'},qn={class:'list'},Rn=['onClick'],Kn={class:'name'},Jn={class:'meta'},Un={key:0},Zn={key:1,class:'sep'},Wn={key:2},Yn={key:3,class:'fold',open:!1,'data-sec':'bloods'},Gn={class:'fold-h'},Qn={class:'list'},Xn=['onClick'],eo={class:'name'},to={class:'meta'},lo={key:0},ao={key:1,class:'inf-section','data-sec':'base'},no={class:'inf-dl'},oo={class:'k'},co={class:'v'},so={key:2,class:'inf-section','data-sec':'funcs'},ro={class:'inf-dl'},io={class:'k'},mo={class:'v'},po={key:3,class:'inf-section','data-sec':'desc'},uo={class:'inf-desc'},vo={key:4,class:'inf-section','data-sec':'status'},ko={class:'chips'},Eo={key:5,class:'inf-section','data-sec':'bonus'},yo={class:'bonus-groups'},fo={class:'bonus-group'},No={class:'bg-body'},go={class:'bonus-group'},Vo={class:'bg-body'},ho={class:'k'},So={class:'b'},Bo={key:0,class:'bonus-group'},bo={class:'bg-body'},Co={key:6,class:'inf-section','data-sec':'reunion'},Do={class:'kv'},wo={class:'v'},xo={class:'k'},Ao={class:'v'},$o=(0,l.defineComponent)({__name:'StatusPanel',props:{view:{default:'full'}},setup(e){const t=e,a=(0,l.ref)({}),n=(0,l.ref)(!1),o=(0,l.computed)(()=>!!a.value&&!!a.value.姓名);function c(e,t='N/A'){return null==e?t:Array.isArray(e)?0===e.length?t:e[0]??t:e}function s(e){if(!e||'object'!=typeof e)return e;const t={};for(const l in e)l.startsWith('$')||(t[l]=e[l]);return t}function $o(e){if(!e)return[];const t=s(e);if(Array.isArray(t))return t.filter(e=>e&&('object'!=typeof e||Object.keys(e).length>0));if('object'==typeof t){const e=Object.entries(t);return e.some(([e])=>/^[A-Z]+_\d+/.test(e))?e.map(([,e])=>e).filter(e=>e&&'object'==typeof e):e.map(([e,t])=>t&&'object'==typeof t&&!('名称'in t)?{名称:e,...t}:t).filter(Boolean)}return[]}function Mo(e){return'full'===t.view||(t.view===e||'status'===t.view&&'status'===e)}(0,l.onMounted)(async()=>{try{const e=await getChatMessages(getCurrentMessageId()),t=e?.[0]?.data?.stat_data||{},l=Object.values(t).find(e=>e&&e.姓名);a.value=l||{}}catch{a.value={}}finally{n.value=!0}});const Fo=(0,l.computed)(()=>a.value?.属性?.基础||{}),Lo=(0,l.computed)(()=>a.value?.属性?.衍生||{}),_o=(0,l.computed)(()=>a.value?.属性?.预设检定||{}),To=(0,l.computed)(()=>c(a.value?.属性?.综合评级,'D')),Po=['力量','体力','敏捷','智力','精神','魅力'],jo=['SSS级','SS级','S级','A级','B级','C级','D级','E级','F级'],Io=(0,l.computed)(()=>{const e=jo,t=Object.fromEntries(e.map(e=>[e,0])),l=a.value?.任务世界信息&&a.value.任务世界信息['任务世界击杀']||a.value&&a.value['任务世界击杀']||a.value?.任务世界信息&&a.value.任务世界信息['击杀']||{};try{l&&'object'==typeof l&&!Array.isArray(l)?e.forEach(e=>{t[e]=Number(l[e])||0}):Array.isArray(l)?l.forEach(l=>{const a=String(l&&(l.评级??l.rank)||'').toUpperCase(),n=e.includes(a)?a:{SSS:'SSS级',SS:'SS级',S:'S级',A:'A级',B:'B级',C:'C级',D:'D级',E:'E级',F:'F级'}[a]||'';n&&(t[n]=Number(l&&(l.数量??l.count)||0)||0)}):'string'==typeof l&&l.split(/[，,；;\n\r]+/).map(e=>e.trim()).filter(Boolean).forEach(l=>{const a=l.match(/(SSS级|SS级|S级|A级|B级|C级|D级|E级|F级|SSS|SS|S|A|B|C|D|E|F)\s*[:：]\s*(\d+)/i);if(!a)return;const n=a[1].toUpperCase(),o=e.includes(n)?n:{SSS:'SSS级',SS:'SS级',S:'S级',A:'A级',B:'B级',C:'C级',D:'D级',E:'E级',F:'F级'}[n]||'';o&&(t[o]=Number(a[2])||0)})}catch{}return t}),Oo=(0,l.computed)(()=>{try{const e=Io.value;return jo.filter(t=>Number(e[t]||0)>0).map(t=>`${t} × ${e[t]||0}`).join('、')}catch{return''}}),Ho=(0,l.computed)(()=>['SSS级','SS级','S级','A级','B级','C级','D级','E级','F级'].map(e=>({rank:e,count:Io.value[e]||0}))),zo=((0,l.computed)(()=>Ho.value.some(e=>Number(e.count)>0)),{D:{sum:[50,120],statMax:30,atkMax:30,defMax:20},C:{sum:[120,200],statMax:50,atkMax:100,defMax:70},B:{sum:[200,350],statMax:70,atkMax:300,defMax:200},A:{sum:[350,600],statMax:120,atkMax:700,defMax:400},S:{sum:[600,1100],statMax:220,atkMax:2400,defMax:1600},SS:{sum:[1100,2e3],statMax:400,atkMax:1e4,defMax:6e3},SSS:{sum:[2e3,999999],statMax:1e3,atkMax:2e4,defMax:12e3}});const qo=(0,l.computed)(()=>{return zo[(e=To.value,String(e||'D').replace('级','').replace('+','').toUpperCase())]||zo.D;var e});const Ro=(0,l.computed)(()=>{const e=(t=Fo.value,Po.reduce((e,l)=>e+(Number(c(t?.[l],0))||0),0));var t;const[l,a]=qo.value.sum,n=(e-l)/(a-l)*100;return Math.max(0,Math.min(100,isFinite(n)?n:0)).toFixed(1)});function Ko(e){const t=(Number(c(e,0))||0)/qo.value.statMax*100;return Math.max(0,Math.min(100,t)).toFixed(1)}function Jo(e,t){const l=Number(c(e,0))||0,a=Number(c(t,0))||0,n=a>0?l/a*100:0;return Math.max(0,Math.min(100,n)).toFixed(1)}function Uo(e,t){const l=Number(c(e,0))||0,a='atk'===t?qo.value.atkMax:qo.value.defMax;return Math.max(0,Math.min(100,l/a*100)).toFixed(1)}function Zo(e){const t=c(e,0);return String('number'==typeof t?t:t||'0')}function Wo(e,t,l){const a={D:{atkMax:30,defMax:20},C:{atkMax:100,defMax:70},B:{atkMax:300,defMax:200},A:{atkMax:700,defMax:400},S:{atkMax:2400,defMax:1600},SS:{atkMax:1e4,defMax:6e3},SSS:{atkMax:2e4,defMax:12e3}},n=a[String(t||'D').replace('级','').replace('+','').toUpperCase()]||a.D,o=Number(c(e,0))||0,s='atk'===l?n.atkMax:n.defMax;return Math.max(0,Math.min(100,o/s*100)).toFixed(1)}function Yo(e,t){const l={D:30,C:50,B:70,A:120,S:220,SS:400,SSS:1e3}[String(t||'D').replace('级','').replace('+','').toUpperCase()]||30,a=(Number(c(e,0))||0)/l*100;return Math.max(0,Math.min(100,a)).toFixed(1)}function Go(e){const t=String(c(e?.类型,'')).toLowerCase();return/(戒|项链|饰品|ring|necklace|amulet|accessory)/.test(t)?'💍':/(甲|盔|护|上身|全身|armor|helm|chest|glove|boot|cloak|belt)/.test(t)?'🧥':'⚔️'}const Qo=(0,l.computed)(()=>$o(a.value?.['登场角色']).filter(e=>'同伴'===c(e['阵营标识']||e['阵营'])&&'附近'===c(e['在场状态']))),Xo=(0,l.computed)(()=>$o(a.value?.['登场角色']).filter(e=>'同伴'!==c(e['阵营标识']||e['阵营'])&&'附近'===c(e['在场状态']))),ec=(0,l.computed)(()=>$o(a.value?.['登场角色']).filter(e=>'离场'===c(e['在场状态']))),tc=(0,l.computed)(()=>$o(a.value?.['装备栏'])),lc=(0,l.computed)(()=>$o(a.value?.['物品栏'])),ac=(0,l.computed)(()=>$o(a.value?.['血统'])),nc=(0,l.computed)(()=>$o(a.value?.['技能'])),oc=(0,l.ref)('all');function cc(e){return Array.isArray(e)?e[0]??'无':e}function sc(e){const t=s(e||{});return('任务目标'in t||'状态'in t||'完成进度'in t?[t]:$o(t)).map(e=>({name:String(c(e.任务名称||e.名称||e.任务目标||'','')||''),state:String(c(e.状态||'','')||'')||void 0,progress:String(c(e.完成进度||'','')||'')||void 0,time:String(c(e.时限||'','')||'')||void 0}))}const rc=(0,l.ref)(!1),ic=(0,l.ref)(''),dc=(0,l.ref)(''),mc=(0,l.ref)([]),pc=(0,l.ref)([]),uc=(0,l.ref)([]),vc=(0,l.ref)([]),kc=(0,l.ref)([]),Ec=(0,l.ref)([]),yc=(0,l.ref)([]),fc=(0,l.ref)([]),Nc=(0,l.ref)([]),gc=((0,l.ref)(!0),(0,l.ref)(null)),Vc=(0,l.ref)('status'),hc=(0,l.ref)(null),Sc=(0,l.ref)([]),Bc=(0,l.computed)(()=>{const e=gc.value&&gc.value.reunionReasons||[];return Array.isArray(e)?e.map(e=>String(e)).filter(Boolean):e?[String(e)]:[]}),bc=(0,l.ref)(null),Cc=(0,l.ref)(!1);function Dc(e){try{const t=bc.value;if(!t)return;const l=t.querySelector(`[data-sec="${e}"]`);l&&l.scrollIntoView&&l.scrollIntoView({behavior:'smooth',block:'start'})}catch{}}function wc(e){try{const t=bc.value;if(!t)return;Array.from(t.querySelectorAll('details.fold')).forEach(t=>{t.open=!e})}catch{}}(0,l.watch)(rc,e=>{try{e&&(Cc.value=!0)}catch{}});const xc=(0,l.computed)(()=>{const e=[];return['ATK','DEF','HP','EP','SP'].forEach(t=>{const l=Ec.value.find(e=>e.key.includes(t))||kc.value.find(e=>e.key.includes(t));l&&e.push({key:t,value:String(l.value)})}),e}),Ac=(0,l.computed)(()=>uc.value.map(e=>String(e.value)).filter(Boolean));function $c(e){const t=new Set(e);return Sc.value.filter(e=>t.has(e.key))}function Mc(e,t='status'){if(!e)return;try{document.body.style.overflow='hidden'}catch{}const l='char'===t;dc.value='equip'===t?'⚔️':'item'===t?'📦':'blood'===t?'🧬':'skill'===t?'✨':l?'👤':'ℹ️',ic.value=c(e.名称||e.name||e.任务名称||e.角色||e.姓名||'详细信息','详细信息');const a=[];if(l){const t=c(e.身份,''),l=c(e['阵营标识']||e['阵营'],''),n=c(e.评级||e.综合评级,''),o=c(e['在场状态'],''),s=c(e['好感度'],''),r=c(e['关系'],''),i=c(e['空间币'],'');t&&'N/A'!==t&&a.push(String(t)),l&&'N/A'!==l&&a.push(String(l)),n&&'N/A'!==n&&a.push(String(n)),o&&'N/A'!==o&&a.push(String(o)),'N/A'!==i&&''!==i&&a.push(`币 ${i}`),'N/A'!==s&&''!==s&&a.push(`好感 ${s}`),r&&'N/A'!==r&&a.push(`关系 ${r}`)}else e.等级&&a.push(String(c(e.等级,''))),e.数量&&'N/A'!==c(e.数量,1)&&a.push(`×${c(e.数量,1)}`),e.类型&&a.push(String(c(e.类型,''))),e.品质&&a.push(String(c(e.品质,'')));mc.value=a.filter(Boolean),Vc.value=t,l&&(hc.value=e);const n=new Set(['名称','name','任务名称','角色','姓名','品质','类型','等级','数量','ID','_id','等级序号']);l&&['身份','阵营标识','阵营','评级','综合评级','好感度','关系','空间币'].forEach(e=>n.add(e));const o=[],r=[],i=[],d=[],m=[],p=[];fc.value=[],Nc.value=[];try{!function e(t,a=''){if(null==t||''===t)return;if('object'==typeof t){if(Array.isArray(t)){if(0===t.length)return;t.every(e=>'object'!=typeof e||null===e)?o.push({key:a||'列表',value:t.map(e=>String(e)).join('、')}):t.forEach((t,l)=>e(t,a?`${a}[${l+1}]`:`[${l+1}]`))}else for(const[s,d]of Object.entries(t)){if(s.startsWith('$'))continue;if(l&&n.has(s)||!l&&!a&&n.has(s))continue;const t=a?`${a}.${s}`:s;if(d&&'object'==typeof d)e(d,t);else{const e=String(c(d,'')).trim();if(!e||/^(无|none|null|undefined|—|-)$/.test(e.toLowerCase()))continue;const a=t.split('.')[0];if(l&&/^(属性|装备栏|物品栏|技能|血统)$/.test(a))continue;/(描述|说明|角色备注)/.test(t)?r.push({label:t,value:e}):/^(外貌|行动|位置)$/.test(t)||/^(当前状态|在场状态|上次互动)$/.test(t)||/当前|状态/.test(t)?i.push({key:t,value:e}):o.push({key:t,value:e})}}return}const s=String(c(t,'')).trim();if(s&&!/^(无|none|null|undefined|—|-)$/.test(s.toLowerCase())){const e=(a||'').split('.')[0]||a||'';if(l&&/^(属性|装备栏|物品栏|技能|血统)$/.test(e))return;/(描述|说明|角色备注)/.test(a||'')?r.push({label:a||'说明',value:s}):/^(外貌|行动|位置)$/.test(a||'')||/^(当前状态|在场状态|上次互动)$/.test(a||'')?i.push({key:String(a),value:s}):/(当前|状态)/.test(a||'')?i.push({key:String(a||'状态'),value:s}):o.push({key:a||'内容',value:s})}}(s(e))}catch{}const u=c(e['属性加成'],'');if('string'==typeof u&&u){u.split(/[，,]/).map(e=>e.trim()).filter(Boolean).forEach(e=>{const t=e.match(/(ATK|DEF|HP|EP|SP|法术ATK|法术强度)\s*\+?([\d\.]+%?)/i);if(t)m.push({key:t[1],value:t[2]});else{const t=e.match(/\((ATK|DEF|HP|EP|SP)\)\s*\+?([\d\.]+%?)/i);if(t)m.push({key:t[1],value:t[2]});else{const t=e.match(/(力量|体力|敏捷|智力|精神|魅力)\s*\+?(-?[\d\.]+)/);if(t)m.push({key:t[1],value:t[2]});else{const t={攻击值:'ATK',防御值:'DEF',生命值:'HP',能量值:'EP',精力值:'SP'},l=e.match(/(攻击值|防御值|生命值|能量值|精力值)\s*\+?([\d\.]+%?)/);l&&m.push({key:t[l[1]],value:l[2]})}}}})}o.forEach(e=>{/(伤害|加成|Buff|消耗|冷却|要求|上限|护盾|防御|攻击|ATK|DEF|HP|EP|SP|法术ATK|法术强度)/i.test(e.key)?m.push(e):d.find(t=>t.key===e.key)||p.push(e)});const v=String(c(e['槽位']||e['类型'],'')).toLowerCase();let k='';if(/主手|单手剑|法术武器|双手|武器|撬棍|匕首|剑|弓|杖/.test(v)?k='主手/武器':/副手|盾/.test(v)?k='副手/盾':/上身|胸甲|全身/.test(v)?k='上身/全身':/饰品|戒|项链|腰带/.test(v)&&(k='饰品'),k&&!d.find(e=>'槽位'===e.key)&&d.push({key:'槽位',value:k}),'equip'===t){let t='⚔️';const l=String(c(e['类型'],'')).toLowerCase();t=/(戒|项链|饰品|ring|necklace|amulet|accessory)/.test(l)?'💍':/(甲|盔|护|上身|全身|armor|helm|chest|glove|boot|cloak|belt)/.test(l)?'🧥':'⚔️',dc.value=t}if(l)try{const t=$o(e['装备栏']).length,l=$o(e['物品栏']).length,a=$o(e['血统']).length,n=$o(e['技能']).length;isNaN(t)||d.push({key:'装备',value:String(t)}),isNaN(n)||d.push({key:'技能',value:String(n)}),isNaN(a)||d.push({key:'血统',value:String(a)}),isNaN(l)||d.push({key:'物品',value:String(l)});const o=e['重聚潜能']||{};let s=c(o['等级'],'无'),r=o['理由'];Array.isArray(r)&&(r=r.filter(e=>e&&''!==String(e).trim())),gc.value={base:e?.属性?.基础||{},der:e?.属性?.衍生||{},preset:e?.属性?.预设检定||{},rank:c(e?.属性?.综合评级||e?.综合评级,'D'),equips:$o(e['装备栏']),items:$o(e['物品栏']),skills:$o(e['技能']),bloods:$o(e['血统']),reunionLevel:String(s||'无'),reunionReasons:r}}catch{}if(l)yc.value=p;else{const t=s(e)||{},l=[['等级','等级'],['品质','品质'],['类型','类型'],['数量','数量'],['ID','ID'],['槽位','槽位']],a=new Set;l.forEach(([e,l])=>{const n=c(t[e],'');'N/A'!==n&&''!==String(n)&&(fc.value.push({key:l,value:String(n)}),a.add(l))}),d.forEach(e=>{a.has(e.key)||(fc.value.push(e),a.add(e.key))});const n=['效果','伤害','消耗','目标','冷却','特效'],o=e=>n.some(t=>e.endsWith(t)),r=p.filter(e=>o(e.key)),i=p.filter(e=>!o(e.key));Nc.value=r,yc.value=i}pc.value=[],uc.value=r,vc.value=i,kc.value=[],Ec.value=m,Sc.value=m.filter(e=>/(力量|体力|敏捷|智力|精神|魅力|ATK|DEF|HP|EP|SP|法术ATK|法术强度)/.test(e.key)),rc.value=!0,setTimeout(()=>{try{const e=document.querySelector('.inf-modal'),t=document.querySelector('.inf-sections'),l=document.querySelector('.inf-modal-head'),a=document.querySelector('.inf-nav'),n=window.innerHeight||document.documentElement.clientHeight||800,o=(t?.scrollHeight||0)+(l?.offsetHeight||0)+(a?.offsetHeight||0)+48,c=.86*n;e&&(e.style.maxHeight=o>c?'92vh':'84vh')}catch{}},0)}function Fc(){rc.value=!1}function Lc(e,t){Vc.value=t,Mc(e,t)}function _c(){hc.value&&(Vc.value='char',Mc(hc.value,'char'))}return(0,l.watch)(rc,e=>{try{document.body.style.overflow=e?'hidden':''}catch{}}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',r,[n.value?o.value?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:2},[Mo('status')?((0,l.openBlock)(),(0,l.createElementBlock)('div',m,[t[26]||(t[26]=(0,l.createElementVNode)('div',{class:'sec-h head'},'🔹 核心信息',-1)),(0,l.createElementVNode)('div',p,[(0,l.createElementVNode)('div',u,[(0,l.createElementVNode)('div',v,[t[20]||(t[20]=(0,l.createElementVNode)('div',{class:'pname'},'姓名',-1)),(0,l.createElementVNode)('div',k,(0,l.toDisplayString)(c(a.value?.姓名)),1)]),(0,l.createElementVNode)('div',E,[t[21]||(t[21]=(0,l.createElementVNode)('div',{class:'pname'},'身份',-1)),(0,l.createElementVNode)('div',y,(0,l.toDisplayString)(c(a.value?.身份)),1)])]),(0,l.createElementVNode)('div',f,[t[22]||(t[22]=(0,l.createElementVNode)('div',{class:'pname'},'当前位置',-1)),(0,l.createElementVNode)('div',N,(0,l.toDisplayString)(c(a.value?.当前位置)),1)]),(0,l.createElementVNode)('div',g,[(0,l.createElementVNode)('div',V,[t[23]||(t[23]=(0,l.createElementVNode)('div',{class:'pname'},'行动',-1)),(0,l.createElementVNode)('div',h,(0,l.toDisplayString)(c(a.value?.行动)),1)]),(0,l.createElementVNode)('div',S,[t[24]||(t[24]=(0,l.createElementVNode)('div',{class:'pname'},'当前状态',-1)),(0,l.createElementVNode)('div',B,(0,l.toDisplayString)(Array.isArray(a.value?.当前状态)?c(cc(a.value?.当前状态),'—'):c(a.value?.当前状态,'—')),1)])]),(0,l.createElementVNode)('div',b,[t[25]||(t[25]=(0,l.createElementVNode)('div',{class:'pname'},'外貌',-1)),(0,l.createElementVNode)('div',C,(0,l.toDisplayString)(c(a.value?.外貌,'未描述')),1)])])])):(0,l.createCommentVNode)('v-if',!0),Mo('status')?((0,l.openBlock)(),(0,l.createElementBlock)('div',D,[t[30]||(t[30]=(0,l.createElementVNode)('div',{class:'sec-h head'},'📜 履历',-1)),(0,l.createElementVNode)('div',w,[(0,l.createElementVNode)('div',x,[(0,l.createElementVNode)('div',A,[t[27]||(t[27]=(0,l.createElementVNode)('div',{class:'pname'},'称号',-1)),(0,l.createElementVNode)('div',M,(0,l.toDisplayString)(c(cc(a.value?.称号),'无')),1)]),(0,l.createElementVNode)('div',F,[t[28]||(t[28]=(0,l.createElementVNode)('div',{class:'pname'},'称号效果',-1)),(0,l.createElementVNode)('div',L,(0,l.toDisplayString)(c(cc(a.value?.称号效果),'无')),1)])]),(0,l.createElementVNode)('div',T,[t[29]||(t[29]=(0,l.createElementVNode)('div',{class:'pname'},'通关记录',-1)),(0,l.createElementVNode)('div',P,(0,l.toDisplayString)(c(a.value?.通关记录,0)),1)])])])):(0,l.createCommentVNode)('v-if',!0),Mo('status')?((0,l.openBlock)(),(0,l.createElementBlock)('div',j,[t[45]||(t[45]=(0,l.createElementVNode)('div',{class:'sec-h head'},'📊 属性',-1)),(0,l.createElementVNode)('div',I,[(0,l.createElementVNode)('div',O,[(0,l.createElementVNode)('div',H,[t[31]||(t[31]=(0,l.createElementVNode)('div',{class:'pname'},'综合评级',-1)),(0,l.createElementVNode)('div',q,(0,l.toDisplayString)(c(To.value)),1)]),(0,l.createElementVNode)('div',R,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Ro.value+'%'})},null,4)])]),(0,l.createElementVNode)('div',K,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Po,(e,t)=>(0,l.createElementVNode)('div',{key:'b'+t,class:'prop'},[(0,l.createElementVNode)('div',J,[(0,l.createElementVNode)('div',U,(0,l.toDisplayString)(e),1),(0,l.createElementVNode)('div',Z,(0,l.toDisplayString)(c(Fo.value[e],0)),1)]),(0,l.createElementVNode)('div',W,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Ko(Fo.value[e])+'%'})},null,4)])])),64))]),(0,l.createElementVNode)('div',Y,[(0,l.createElementVNode)('div',G,[(0,l.createElementVNode)('div',Q,[t[32]||(t[32]=(0,l.createElementVNode)('div',{class:'pname'},'HP',-1)),(0,l.createElementVNode)('div',X,(0,l.toDisplayString)(Zo(Lo.value.HP))+'/'+(0,l.toDisplayString)(Zo(Lo.value['HP上限'])),1)]),(0,l.createElementVNode)('div',ee,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Jo(Lo.value.HP,Lo.value['HP上限'])+'%'})},null,4)])]),(0,l.createElementVNode)('div',te,[(0,l.createElementVNode)('div',le,[t[33]||(t[33]=(0,l.createElementVNode)('div',{class:'pname'},'ATK',-1)),(0,l.createElementVNode)('div',ae,(0,l.toDisplayString)(Zo(Lo.value.ATK)),1)]),(0,l.createElementVNode)('div',ne,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Uo(Lo.value.ATK,'atk')+'%'})},null,4)])]),(0,l.createElementVNode)('div',oe,[(0,l.createElementVNode)('div',ce,[t[34]||(t[34]=(0,l.createElementVNode)('div',{class:'pname'},'DEF',-1)),(0,l.createElementVNode)('div',se,(0,l.toDisplayString)(Zo(Lo.value.DEF)),1)]),(0,l.createElementVNode)('div',re,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Uo(Lo.value.DEF,'def')+'%'})},null,4)])]),(0,l.createElementVNode)('div',ie,[(0,l.createElementVNode)('div',de,[t[35]||(t[35]=(0,l.createElementVNode)('div',{class:'pname'},'EP',-1)),(0,l.createElementVNode)('div',me,(0,l.toDisplayString)(Zo(Lo.value.EP))+'/'+(0,l.toDisplayString)(Zo(Lo.value['EP上限'])),1)]),(0,l.createElementVNode)('div',pe,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Jo(Lo.value.EP,Lo.value['EP上限'])+'%'})},null,4)])]),(0,l.createElementVNode)('div',ue,[(0,l.createElementVNode)('div',ve,[t[36]||(t[36]=(0,l.createElementVNode)('div',{class:'pname'},'SP',-1)),(0,l.createElementVNode)('div',ke,(0,l.toDisplayString)(Zo(Lo.value.SP))+'/'+(0,l.toDisplayString)(Zo(Lo.value['SP上限'])),1)]),(0,l.createElementVNode)('div',Ee,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Jo(Lo.value.SP,Lo.value['SP上限'])+'%'})},null,4)])]),(0,l.createElementVNode)('div',ye,[(0,l.createElementVNode)('div',fe,[t[37]||(t[37]=(0,l.createElementVNode)('div',{class:'pname'},'法术ATK',-1)),(0,l.createElementVNode)('div',Ne,(0,l.toDisplayString)(Zo(Lo.value['法术ATK'])),1)]),(0,l.createElementVNode)('div',ge,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Uo(Lo.value['法术ATK'],'atk')+'%'})},null,4)])]),(0,l.createElementVNode)('div',Ve,[(0,l.createElementVNode)('div',he,[t[38]||(t[38]=(0,l.createElementVNode)('div',{class:'pname'},'法术强度',-1)),(0,l.createElementVNode)('div',Se,(0,l.toDisplayString)(c(Lo.value['法术强度'],'0%')),1)]),(0,l.createElementVNode)('div',Be,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:(parseFloat(String(c(Lo.value['法术强度'],'0').toString().replace('%','')))||0)+'%'})},null,4)])])]),(0,l.createElementVNode)('div',be,[t[44]||(t[44]=(0,l.createElementVNode)('div',{class:'pname'},'预设计算 (战斗数值)',-1)),(0,l.createElementVNode)('div',Ce,[(0,l.createElementVNode)('div',De,[t[39]||(t[39]=(0,l.createElementVNode)('div',{class:'pname'},'先攻修正',-1)),(0,l.createElementVNode)('div',we,'+'+(0,l.toDisplayString)(c(_o.value['先攻修正'],0)),1)]),(0,l.createElementVNode)('div',xe,[t[40]||(t[40]=(0,l.createElementVNode)('div',{class:'pname'},'防御DC',-1)),(0,l.createElementVNode)('div',Ae,(0,l.toDisplayString)(c(_o.value['防御DC'],30)),1)]),(0,l.createElementVNode)('div',$e,[t[41]||(t[41]=(0,l.createElementVNode)('div',{class:'pname'},'强韧豁免',-1)),(0,l.createElementVNode)('div',Me,'+'+(0,l.toDisplayString)(c(_o.value['强韧豁免'],0)),1)]),(0,l.createElementVNode)('div',Fe,[t[42]||(t[42]=(0,l.createElementVNode)('div',{class:'pname'},'反射豁免',-1)),(0,l.createElementVNode)('div',Le,'+'+(0,l.toDisplayString)(c(_o.value['反射豁免'],0)),1)]),(0,l.createElementVNode)('div',_e,[t[43]||(t[43]=(0,l.createElementVNode)('div',{class:'pname'},'意志豁免',-1)),(0,l.createElementVNode)('div',Te,'+'+(0,l.toDisplayString)(c(_o.value['意志豁免'],0)),1)])])])])])):(0,l.createCommentVNode)('v-if',!0),Mo('world')||Mo('quests')?((0,l.openBlock)(),(0,l.createElementBlock)('div',Pe,[t[55]||(t[55]=(0,l.createElementVNode)('div',{class:'sec-h head'},'🌐 世界状态',-1)),(0,l.createElementVNode)('div',je,[Mo('world')?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)('div',Ie,[t[46]||(t[46]=(0,l.createElementVNode)('div',{class:'pname'},'当前状态',-1)),(0,l.createElementVNode)('div',Oe,(0,l.toDisplayString)(Array.isArray(a.value['当前状态'])?c(cc(a.value['当前状态']),'—'):c(a.value['当前状态'],'—')),1)]),(0,l.createElementVNode)('div',He,[(0,l.createElementVNode)('div',ze,[t[47]||(t[47]=(0,l.createElementVNode)('div',{class:'pname'},'世界名称',-1)),(0,l.createElementVNode)('div',qe,(0,l.toDisplayString)(c(a.value.任务世界信息?.世界名称,'—')),1)]),(0,l.createElementVNode)('div',Re,[t[48]||(t[48]=(0,l.createElementVNode)('div',{class:'pname'},'世界难度',-1)),(0,l.createElementVNode)('div',Ke,(0,l.toDisplayString)(c(a.value.任务世界信息?.难度,'—')),1)]),(0,l.createElementVNode)('div',Je,[t[49]||(t[49]=(0,l.createElementVNode)('div',{class:'pname'},'当前地点',-1)),(0,l.createElementVNode)('div',Ue,(0,l.toDisplayString)(c(a.value.任务世界信息?.当前地点,'—')),1)]),(0,l.createElementVNode)('div',Ze,[t[50]||(t[50]=(0,l.createElementVNode)('div',{class:'pname'},'时间',-1)),(0,l.createElementVNode)('div',We,(0,l.toDisplayString)(c(a.value.当前时间,'—')),1)]),(0,l.createElementVNode)('div',Ye,[t[51]||(t[51]=(0,l.createElementVNode)('div',{class:'pname'},'稳定值',-1)),(0,l.createElementVNode)('div',Ge,(0,l.toDisplayString)(c(a.value.任务世界信息?.稳定值,'—')),1)])]),(0,l.createElementVNode)('div',Qe,[t[52]||(t[52]=(0,l.createElementVNode)('div',{class:'pname'},'任务世界击杀',-1)),(0,l.createElementVNode)('div',Xe,[Oo.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',et,(0,l.toDisplayString)(Oo.value),1)):((0,l.openBlock)(),(0,l.createElementBlock)('div',tt,'暂无击杀记录'))])]),(0,l.createCommentVNode)(' 去掉系统开关显示 ')],64)):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',lt,[t[53]||(t[53]=(0,l.createElementVNode)('div',{class:'pname'},'主线任务',-1)),(0,l.createElementVNode)('div',at,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(sc(a.value.任务列表?.主线),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:'mq'+t,class:'q-row'},[(0,l.createElementVNode)('div',nt,(0,l.toDisplayString)(e.name||'未命名主线'),1),(0,l.createElementVNode)('div',ot,[e.state?((0,l.openBlock)(),(0,l.createElementBlock)('span',ct,(0,l.toDisplayString)(e.state),1)):(0,l.createCommentVNode)('v-if',!0),e.progress?((0,l.openBlock)(),(0,l.createElementBlock)('span',st,'·')):(0,l.createCommentVNode)('v-if',!0),e.progress?((0,l.openBlock)(),(0,l.createElementBlock)('span',rt,(0,l.toDisplayString)(e.progress),1)):(0,l.createCommentVNode)('v-if',!0),e.time?((0,l.openBlock)(),(0,l.createElementBlock)('span',it,'·')):(0,l.createCommentVNode)('v-if',!0),e.time?((0,l.openBlock)(),(0,l.createElementBlock)('span',dt,(0,l.toDisplayString)(e.time),1)):(0,l.createCommentVNode)('v-if',!0)])]))),128)),sc(a.value.任务列表?.主线).length?(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('div',mt,'无主线任务'))])]),(0,l.createElementVNode)('div',pt,[t[54]||(t[54]=(0,l.createElementVNode)('div',{class:'pname'},'支线任务',-1)),(0,l.createElementVNode)('div',ut,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(sc(a.value.任务列表?.支线),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:'sq'+t,class:'q-row'},[(0,l.createElementVNode)('div',vt,(0,l.toDisplayString)(e.name||'未命名支线'),1),(0,l.createElementVNode)('div',kt,[e.state?((0,l.openBlock)(),(0,l.createElementBlock)('span',Et,(0,l.toDisplayString)(e.state),1)):(0,l.createCommentVNode)('v-if',!0),e.progress?((0,l.openBlock)(),(0,l.createElementBlock)('span',yt,'·')):(0,l.createCommentVNode)('v-if',!0),e.progress?((0,l.openBlock)(),(0,l.createElementBlock)('span',ft,(0,l.toDisplayString)(e.progress),1)):(0,l.createCommentVNode)('v-if',!0),e.time?((0,l.openBlock)(),(0,l.createElementBlock)('span',Nt,'·')):(0,l.createCommentVNode)('v-if',!0),e.time?((0,l.openBlock)(),(0,l.createElementBlock)('span',gt,(0,l.toDisplayString)(e.time),1)):(0,l.createCommentVNode)('v-if',!0)])]))),128)),sc(a.value.任务列表?.支线).length?(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('div',Vt,'无支线任务'))])])])])):(0,l.createCommentVNode)('v-if',!0),Mo('roles')?((0,l.openBlock)(),(0,l.createElementBlock)('div',ht,[t[57]||(t[57]=(0,l.createElementVNode)('div',{class:'sec-h head'},'👥 角色',-1)),(0,l.createElementVNode)('div',St,[(0,l.createElementVNode)('details',Bt,[(0,l.createElementVNode)('summary',bt,'同伴（'+(0,l.toDisplayString)(Qo.value.length)+'）',1),(0,l.createElementVNode)('div',Ct,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Qo.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc({名称:e.名称||'同伴',...e},'char')},[(0,l.createElementVNode)('div',wt,'👤 '+(0,l.toDisplayString)(e.名称||'同伴'),1),(0,l.createElementVNode)('div',xt,[c(e.身份,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',At,(0,l.toDisplayString)(c(e.身份,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.评级||e.综合评级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',$t,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.评级||e.综合评级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Mt,(0,l.toDisplayString)(c(e.评级||e.综合评级,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e['在场状态'],'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Ft,'·')):(0,l.createCommentVNode)('v-if',!0),c(e['在场状态'],'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Lt,(0,l.toDisplayString)(c(e['在场状态'],'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Dt))),128))])]),(0,l.createElementVNode)('details',_t,[(0,l.createElementVNode)('summary',Tt,'附近NPC（'+(0,l.toDisplayString)(Xo.value.length)+'）',1),(0,l.createElementVNode)('div',Pt,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Xo.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc({名称:e.名称||'NPC',...e},'char')},[(0,l.createElementVNode)('div',It,'👁 '+(0,l.toDisplayString)(e.名称||'NPC'),1),(0,l.createElementVNode)('div',Ot,[c(e.身份,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Ht,(0,l.toDisplayString)(c(e.身份,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.评级||e.综合评级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',zt,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.评级||e.综合评级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',qt,(0,l.toDisplayString)(c(e.评级||e.综合评级,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e['在场状态'],'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Rt,'·')):(0,l.createCommentVNode)('v-if',!0),c(e['在场状态'],'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Kt,(0,l.toDisplayString)(c(e['在场状态'],'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,jt))),128))])]),(0,l.createElementVNode)('details',Jt,[(0,l.createElementVNode)('summary',Ut,'离场角色（'+(0,l.toDisplayString)(ec.value.length)+'）',1),(0,l.createElementVNode)('div',Zt,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(ec.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc({名称:e.名称||'离场角色',...e},'char')},[(0,l.createElementVNode)('div',Yt,'🚪 '+(0,l.toDisplayString)(e.名称||'离场角色'),1),(0,l.createElementVNode)('div',Gt,[t[56]||(t[56]=(0,l.createElementVNode)('span',null,'离场',-1)),c(e.评级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Qt,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.评级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Xt,(0,l.toDisplayString)(c(e.评级,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e['上次互动'],'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',el,'·')):(0,l.createCommentVNode)('v-if',!0),c(e['上次互动'],'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',tl,'上次互动 '+(0,l.toDisplayString)(c(e['上次互动'],'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Wt))),128))])])])])):(0,l.createCommentVNode)('v-if',!0),Mo('inventory')?((0,l.openBlock)(),(0,l.createElementBlock)('div',ll,[t[63]||(t[63]=(0,l.createElementVNode)('div',{class:'sec-h head'},'🎒 清单',-1)),(0,l.createElementVNode)('div',al,[(0,l.createElementVNode)('div',nl,[(0,l.createElementVNode)('button',{class:(0,l.normalizeClass)(['subtab',{a:'all'===oc.value}]),onClick:t[0]||(t[0]=e=>oc.value='all')},'全部',2),(0,l.createElementVNode)('button',{class:(0,l.normalizeClass)(['subtab',{a:'equip'===oc.value}]),onClick:t[1]||(t[1]=e=>oc.value='equip')},'装备 ('+(0,l.toDisplayString)(tc.value.length)+')',3),(0,l.createElementVNode)('button',{class:(0,l.normalizeClass)(['subtab',{a:'item'===oc.value}]),onClick:t[2]||(t[2]=e=>oc.value='item')},'物品 ('+(0,l.toDisplayString)(lc.value.length)+')',3),(0,l.createElementVNode)('button',{class:(0,l.normalizeClass)(['subtab',{a:'blood'===oc.value}]),onClick:t[3]||(t[3]=e=>oc.value='blood')},'血统 ('+(0,l.toDisplayString)(ac.value.length)+')',3),(0,l.createElementVNode)('button',{class:(0,l.normalizeClass)(['subtab',{a:'skill'===oc.value}]),onClick:t[4]||(t[4]=e=>oc.value='skill')},'技能 ('+(0,l.toDisplayString)(nc.value.length)+')',3)]),(0,l.createElementVNode)('div',ol,[t[58]||(t[58]=(0,l.createElementVNode)('div',{class:'pname'},'空间币',-1)),(0,l.createElementVNode)('div',cl,(0,l.toDisplayString)(c(a.value['空间币'],0)),1)]),'all'===oc.value?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)('div',sl,[(0,l.createElementVNode)('div',rl,'装备 ('+(0,l.toDisplayString)(tc.value.length)+')',1)]),(0,l.createElementVNode)('div',il,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(tc.value.slice(0,3),e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc(e,'equip')},[(0,l.createElementVNode)('div',ml,(0,l.toDisplayString)(Go(e))+' '+(0,l.toDisplayString)(e.名称||'未知装备'),1),(0,l.createElementVNode)('div',pl,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',ul,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.类型,'')&&c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',vl,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',kl,(0,l.toDisplayString)(c(e.品质,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,dl))),128)),tc.value.length>3?((0,l.openBlock)(),(0,l.createElementBlock)('div',El,[(0,l.createElementVNode)('a',{href:'javascript:void(0)',onClick:t[5]||(t[5]=e=>oc.value='equip')},'查看更多…')])):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',yl,[(0,l.createElementVNode)('div',fl,'物品 ('+(0,l.toDisplayString)(lc.value.length)+')',1)]),(0,l.createElementVNode)('div',Nl,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(lc.value.slice(0,4),e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc(e,'item')},[(0,l.createElementVNode)('div',Vl,'📦 '+(0,l.toDisplayString)(e.名称||'物品'),1),(0,l.createElementVNode)('div',hl,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Sl,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.类型,'')&&c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Bl,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',bl,(0,l.toDisplayString)(c(e.品质,'')),1)):(0,l.createCommentVNode)('v-if',!0),'N/A'!==c(e.数量,1)?((0,l.openBlock)(),(0,l.createElementBlock)('span',Cl,'·')):(0,l.createCommentVNode)('v-if',!0),'N/A'!==c(e.数量,1)?((0,l.openBlock)(),(0,l.createElementBlock)('span',Dl,'×'+(0,l.toDisplayString)(c(e.数量,1)),1)):(0,l.createCommentVNode)('v-if',!0)])],8,gl))),128)),lc.value.length>4?((0,l.openBlock)(),(0,l.createElementBlock)('div',wl,[(0,l.createElementVNode)('a',{href:'javascript:void(0)',onClick:t[6]||(t[6]=e=>oc.value='item')},'查看更多…')])):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',xl,[(0,l.createElementVNode)('div',Al,'血统 ('+(0,l.toDisplayString)(ac.value.length)+')',1)]),(0,l.createElementVNode)('div',$l,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(ac.value.slice(0,2),e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc(e,'blood')},[(0,l.createElementVNode)('div',Fl,'🧬 '+(0,l.toDisplayString)(e.名称||'血统'),1),(0,l.createElementVNode)('div',Ll,[c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',_l,(0,l.toDisplayString)(c(e.品质,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.类型,'')&&c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Tl,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Pl,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Ml))),128)),ac.value.length>2?((0,l.openBlock)(),(0,l.createElementBlock)('div',jl,[(0,l.createElementVNode)('a',{href:'javascript:void(0)',onClick:t[7]||(t[7]=e=>oc.value='blood')},'查看更多…')])):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',Il,[(0,l.createElementVNode)('div',Ol,'技能 ('+(0,l.toDisplayString)(nc.value.length)+')',1)]),(0,l.createElementVNode)('div',Hl,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(nc.value.slice(0,3),e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc(e,'skill')},[(0,l.createElementVNode)('div',ql,'✨ '+(0,l.toDisplayString)(e.名称||'技能'),1),(0,l.createElementVNode)('div',Rl,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Kl,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.等级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Jl,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.等级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Ul,(0,l.toDisplayString)(c(e.等级,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,zl))),128)),nc.value.length>3?((0,l.openBlock)(),(0,l.createElementBlock)('div',Zl,[(0,l.createElementVNode)('a',{href:'javascript:void(0)',onClick:t[8]||(t[8]=e=>oc.value='skill')},'查看更多…')])):(0,l.createCommentVNode)('v-if',!0)])],64)):'equip'===oc.value?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[t[59]||(t[59]=(0,l.createElementVNode)('div',{class:'prop'},[(0,l.createElementVNode)('div',{class:'pname'},'装备')],-1)),(0,l.createElementVNode)('div',Wl,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(tc.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc(e,'equip')},[(0,l.createElementVNode)('div',Gl,(0,l.toDisplayString)(Go(e))+' '+(0,l.toDisplayString)(e.名称||'未知装备'),1),(0,l.createElementVNode)('div',Ql,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Xl,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.类型,'')&&c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',ea,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',ta,(0,l.toDisplayString)(c(e.品质,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Yl))),128))])],64)):'item'===oc.value?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:2},[t[60]||(t[60]=(0,l.createElementVNode)('div',{class:'prop'},[(0,l.createElementVNode)('div',{class:'pname'},'物品')],-1)),(0,l.createElementVNode)('div',la,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(lc.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc(e,'item')},[(0,l.createElementVNode)('div',na,'📦 '+(0,l.toDisplayString)(e.名称||'物品'),1),(0,l.createElementVNode)('div',oa,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',ca,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.类型,'')&&c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',sa,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',ra,(0,l.toDisplayString)(c(e.品质,'')),1)):(0,l.createCommentVNode)('v-if',!0),'N/A'!==c(e.数量,1)?((0,l.openBlock)(),(0,l.createElementBlock)('span',ia,'·')):(0,l.createCommentVNode)('v-if',!0),'N/A'!==c(e.数量,1)?((0,l.openBlock)(),(0,l.createElementBlock)('span',da,'×'+(0,l.toDisplayString)(c(e.数量,1)),1)):(0,l.createCommentVNode)('v-if',!0)])],8,aa))),128))])],64)):'blood'===oc.value?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:3},[t[61]||(t[61]=(0,l.createElementVNode)('div',{class:'prop'},[(0,l.createElementVNode)('div',{class:'pname'},'血统')],-1)),(0,l.createElementVNode)('div',ma,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(ac.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc(e,'blood')},[(0,l.createElementVNode)('div',ua,'🧬 '+(0,l.toDisplayString)(e.名称||'血统'),1),(0,l.createElementVNode)('div',va,[c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',ka,(0,l.toDisplayString)(c(e.品质,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.类型,'')&&c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Ea,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',ya,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,pa))),128))])],64)):'skill'===oc.value?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:4},[t[62]||(t[62]=(0,l.createElementVNode)('div',{class:'prop'},[(0,l.createElementVNode)('div',{class:'pname'},'技能')],-1)),(0,l.createElementVNode)('div',fa,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(nc.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Mc(e,'skill')},[(0,l.createElementVNode)('div',ga,'✨ '+(0,l.toDisplayString)(e.名称||'技能'),1),(0,l.createElementVNode)('div',Va,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',ha,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.等级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Sa,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.等级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Ba,(0,l.toDisplayString)(c(e.等级,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Na))),128))])],64)):(0,l.createCommentVNode)('v-if',!0)])])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' 详情弹窗（Teleport 到 body，防止被容器裁剪） '),((0,l.openBlock)(),(0,l.createBlock)(l.Teleport,{to:'body'},[rc.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:0,class:(0,l.normalizeClass)(['inf-modal-mask',{tall:Cc.value}]),ref:'maskRef',onClick:(0,l.withModifiers)(Fc,['self'])},[(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['inf-modal',{tall:Cc.value}]),ref:'modalRef'},[(0,l.createElementVNode)('div',ba,[(0,l.createElementVNode)('div',Ca,[gc.value&&'char'!==Vc.value?((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:0,class:'back',onClick:_c},'← 返回')):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',Da,(0,l.toDisplayString)(dc.value),1),(0,l.createElementVNode)('div',wa,[(0,l.createElementVNode)('div',xa,(0,l.toDisplayString)(ic.value),1),mc.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',Aa,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(mc.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e,class:'chip'},(0,l.toDisplayString)(e),1))),128))])):(0,l.createCommentVNode)('v-if',!0)])]),(0,l.createElementVNode)('button',{class:'x',onClick:Fc},'✕')]),xc.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',$a,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(xc.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:'m'+t,class:'inf-metric'},[(0,l.createElementVNode)('div',Ma,(0,l.toDisplayString)(e.value),1),(0,l.createElementVNode)('div',Fa,(0,l.toDisplayString)(e.key),1)]))),128))])):(0,l.createCommentVNode)('v-if',!0),'char'===Vc.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',La,[(0,l.createElementVNode)('button',{class:'inav',onClick:t[9]||(t[9]=e=>Dc('attrs'))},'属性'),(0,l.createElementVNode)('button',{class:'inav',onClick:t[10]||(t[10]=e=>Dc('equip'))},'装备'),(0,l.createElementVNode)('button',{class:'inav',onClick:t[11]||(t[11]=e=>Dc('items'))},'物品'),(0,l.createElementVNode)('button',{class:'inav',onClick:t[12]||(t[12]=e=>Dc('skills'))},'技能'),(0,l.createElementVNode)('button',{class:'inav',onClick:t[13]||(t[13]=e=>Dc('bloods'))},'血统'),(0,l.createElementVNode)('button',{class:'inav',onClick:t[14]||(t[14]=e=>Dc('desc'))},'说明'),(0,l.createElementVNode)('button',{class:'inav',onClick:t[15]||(t[15]=e=>Dc('status'))},'状态'),(0,l.createElementVNode)('button',{class:'inav',onClick:t[16]||(t[16]=e=>Dc('bonus'))},'加成'),(0,l.createElementVNode)('button',{class:'inav',onClick:t[17]||(t[17]=e=>Dc('reunion'))},'重聚潜能'),t[64]||(t[64]=(0,l.createElementVNode)('span',{class:'sp'},null,-1)),(0,l.createElementVNode)('button',{class:'inav ghost',onClick:t[18]||(t[18]=e=>wc(!1))},'展开全部'),(0,l.createElementVNode)('button',{class:'inav ghost',onClick:t[19]||(t[19]=e=>wc(!0))},'收起全部')])):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',{class:'inf-sections',ref_key:'infSectionsRef',ref:bc},[gc.value&&'char'===Vc.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',_a,[t[76]||(t[76]=(0,l.createElementVNode)('div',{class:'inf-section-title'},'属性',-1)),(0,l.createElementVNode)('div',Ta,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Po,e=>(0,l.createElementVNode)('div',{key:'cb'+e,class:'prop'},[(0,l.createElementVNode)('div',Pa,[(0,l.createElementVNode)('div',ja,(0,l.toDisplayString)(e),1),(0,l.createElementVNode)('div',Ia,(0,l.toDisplayString)(c(gc.value.base?.[e],0)),1)]),(0,l.createElementVNode)('div',Oa,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Yo(gc.value.base?.[e],gc.value.rank)+'%'})},null,4)])])),64))]),(0,l.createElementVNode)('div',Ha,[(0,l.createElementVNode)('div',za,[(0,l.createElementVNode)('div',qa,[t[65]||(t[65]=(0,l.createElementVNode)('div',{class:'pname'},'HP',-1)),(0,l.createElementVNode)('div',Ra,(0,l.toDisplayString)(Zo(gc.value.der?.HP))+'/'+(0,l.toDisplayString)(Zo(gc.value.der?.['HP上限'])),1)]),(0,l.createElementVNode)('div',Ka,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Jo(gc.value.der?.HP,gc.value.der?.['HP上限'])+'%'})},null,4)])]),(0,l.createElementVNode)('div',Ja,[(0,l.createElementVNode)('div',Ua,[t[66]||(t[66]=(0,l.createElementVNode)('div',{class:'pname'},'ATK',-1)),(0,l.createElementVNode)('div',Za,(0,l.toDisplayString)(Zo(gc.value.der?.ATK)),1)]),(0,l.createElementVNode)('div',Wa,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Wo(gc.value.der?.ATK,gc.value.rank,'atk')+'%'})},null,4)])]),(0,l.createElementVNode)('div',Ya,[(0,l.createElementVNode)('div',Ga,[t[67]||(t[67]=(0,l.createElementVNode)('div',{class:'pname'},'DEF',-1)),(0,l.createElementVNode)('div',Qa,(0,l.toDisplayString)(Zo(gc.value.der?.DEF)),1)]),(0,l.createElementVNode)('div',Xa,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Wo(gc.value.der?.DEF,gc.value.rank,'def')+'%'})},null,4)])]),(0,l.createElementVNode)('div',en,[(0,l.createElementVNode)('div',tn,[t[68]||(t[68]=(0,l.createElementVNode)('div',{class:'pname'},'EP',-1)),(0,l.createElementVNode)('div',ln,(0,l.toDisplayString)(Zo(gc.value.der?.EP))+'/'+(0,l.toDisplayString)(Zo(gc.value.der?.['EP上限'])),1)]),(0,l.createElementVNode)('div',an,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Jo(gc.value.der?.EP,gc.value.der?.['EP上限'])+'%'})},null,4)])]),(0,l.createElementVNode)('div',nn,[(0,l.createElementVNode)('div',on,[t[69]||(t[69]=(0,l.createElementVNode)('div',{class:'pname'},'SP',-1)),(0,l.createElementVNode)('div',cn,(0,l.toDisplayString)(Zo(gc.value.der?.SP))+'/'+(0,l.toDisplayString)(Zo(gc.value.der?.['SP上限'])),1)]),(0,l.createElementVNode)('div',sn,[(0,l.createElementVNode)('div',{class:'val',style:(0,l.normalizeStyle)({width:Jo(gc.value.der?.SP,gc.value.der?.['SP上限'])+'%'})},null,4)])])]),(0,l.createElementVNode)('div',rn,[t[75]||(t[75]=(0,l.createElementVNode)('div',{class:'pname'},'预设计算',-1)),(0,l.createElementVNode)('div',dn,[(0,l.createElementVNode)('div',mn,[t[70]||(t[70]=(0,l.createElementVNode)('div',{class:'pname'},'先攻修正',-1)),(0,l.createElementVNode)('div',pn,'+'+(0,l.toDisplayString)(c(gc.value.preset?.['先攻修正'],0)),1)]),(0,l.createElementVNode)('div',un,[t[71]||(t[71]=(0,l.createElementVNode)('div',{class:'pname'},'防御DC',-1)),(0,l.createElementVNode)('div',vn,(0,l.toDisplayString)(c(gc.value.preset?.['防御DC'],30)),1)]),(0,l.createElementVNode)('div',kn,[t[72]||(t[72]=(0,l.createElementVNode)('div',{class:'pname'},'强韧豁免',-1)),(0,l.createElementVNode)('div',En,'+'+(0,l.toDisplayString)(c(gc.value.preset?.['强韧豁免'],0)),1)]),(0,l.createElementVNode)('div',yn,[t[73]||(t[73]=(0,l.createElementVNode)('div',{class:'pname'},'反射豁免',-1)),(0,l.createElementVNode)('div',fn,'+'+(0,l.toDisplayString)(c(gc.value.preset?.['反射豁免'],0)),1)]),(0,l.createElementVNode)('div',Nn,[t[74]||(t[74]=(0,l.createElementVNode)('div',{class:'pname'},'意志豁免',-1)),(0,l.createElementVNode)('div',gn,'+'+(0,l.toDisplayString)(c(gc.value.preset?.['意志豁免'],0)),1)])])]),'char'===Vc.value?((0,l.openBlock)(),(0,l.createElementBlock)('details',Vn,[(0,l.createElementVNode)('summary',hn,'装备（'+(0,l.toDisplayString)(gc.value.equips.length)+'）',1),(0,l.createElementVNode)('div',Sn,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(gc.value.equips,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Lc(e,'equip')},[(0,l.createElementVNode)('div',bn,(0,l.toDisplayString)(Go(e))+' '+(0,l.toDisplayString)(e.名称||'装备'),1),(0,l.createElementVNode)('div',Cn,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Dn,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',wn,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',xn,(0,l.toDisplayString)(c(e.品质,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Bn))),128))])])):(0,l.createCommentVNode)('v-if',!0),'char'===Vc.value?((0,l.openBlock)(),(0,l.createElementBlock)('details',An,[(0,l.createElementVNode)('summary',$n,'物品（'+(0,l.toDisplayString)(gc.value.items.length)+'）',1),(0,l.createElementVNode)('div',Mn,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(gc.value.items,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Lc(e,'item')},[(0,l.createElementVNode)('div',Ln,'📦 '+(0,l.toDisplayString)(e.名称||'物品'),1),(0,l.createElementVNode)('div',_n,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Tn,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Pn,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.品质,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',jn,(0,l.toDisplayString)(c(e.品质,'')),1)):(0,l.createCommentVNode)('v-if',!0),'N/A'!==c(e.数量,1)?((0,l.openBlock)(),(0,l.createElementBlock)('span',In,'·')):(0,l.createCommentVNode)('v-if',!0),'N/A'!==c(e.数量,1)?((0,l.openBlock)(),(0,l.createElementBlock)('span',On,'×'+(0,l.toDisplayString)(c(e.数量,1)),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Fn))),128))])])):(0,l.createCommentVNode)('v-if',!0),'char'===Vc.value?((0,l.openBlock)(),(0,l.createElementBlock)('details',Hn,[(0,l.createElementVNode)('summary',zn,'技能（'+(0,l.toDisplayString)(gc.value.skills.length)+'）',1),(0,l.createElementVNode)('div',qn,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(gc.value.skills,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Lc(e,'skill')},[(0,l.createElementVNode)('div',Kn,'✨ '+(0,l.toDisplayString)(e.名称||'技能'),1),(0,l.createElementVNode)('div',Jn,[c(e.类型,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Un,(0,l.toDisplayString)(c(e.类型,'')),1)):(0,l.createCommentVNode)('v-if',!0),c(e.等级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Zn,'·')):(0,l.createCommentVNode)('v-if',!0),c(e.等级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',Wn,(0,l.toDisplayString)(c(e.等级,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Rn))),128))])])):(0,l.createCommentVNode)('v-if',!0),'char'===Vc.value?((0,l.openBlock)(),(0,l.createElementBlock)('details',Yn,[(0,l.createElementVNode)('summary',Gn,'血统（'+(0,l.toDisplayString)(gc.value.bloods.length)+'）',1),(0,l.createElementVNode)('div',Qn,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(gc.value.bloods,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.名称||JSON.stringify(e),class:'li',onClick:t=>Lc(e,'blood')},[(0,l.createElementVNode)('div',eo,'🧬 '+(0,l.toDisplayString)(e.名称||'血统'),1),(0,l.createElementVNode)('div',to,[c(e.等级,'')?((0,l.openBlock)(),(0,l.createElementBlock)('span',lo,(0,l.toDisplayString)(c(e.等级,'')),1)):(0,l.createCommentVNode)('v-if',!0)])],8,Xn))),128))])])):(0,l.createCommentVNode)('v-if',!0)])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' 非角色：基础与功能分区 '),'char'!==Vc.value&&fc.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',ao,[t[77]||(t[77]=(0,l.createElementVNode)('div',{class:'inf-section-title'},'基础',-1)),(0,l.createElementVNode)('div',no,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(fc.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:'base'+t,class:'inf-row'},[(0,l.createElementVNode)('div',oo,(0,l.toDisplayString)(e.key),1),(0,l.createElementVNode)('div',co,(0,l.toDisplayString)(e.value),1)]))),128))])])):(0,l.createCommentVNode)('v-if',!0),'char'!==Vc.value&&Nc.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',so,[t[78]||(t[78]=(0,l.createElementVNode)('div',{class:'inf-section-title'},'功能',-1)),(0,l.createElementVNode)('div',ro,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Nc.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:'fn'+t,class:'inf-row'},[(0,l.createElementVNode)('div',io,(0,l.toDisplayString)(e.key),1),(0,l.createElementVNode)('div',mo,(0,l.toDisplayString)(e.value),1)]))),128))])])):(0,l.createCommentVNode)('v-if',!0),Ac.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',po,[t[79]||(t[79]=(0,l.createElementVNode)('div',{class:'inf-section-title'},'说明',-1)),(0,l.createElementVNode)('div',uo,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Ac.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('p',{key:'p'+t},(0,l.toDisplayString)(e),1))),128))])])):(0,l.createCommentVNode)('v-if',!0),vc.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',vo,[t[80]||(t[80]=(0,l.createElementVNode)('div',{class:'inf-section-title'},'状态',-1)),(0,l.createElementVNode)('div',ko,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(vc.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:'s'+t,class:'chip'},(0,l.toDisplayString)(e.key)+'：'+(0,l.toDisplayString)(e.value),1))),128))])])):(0,l.createCommentVNode)('v-if',!0),Sc.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',Eo,[t[84]||(t[84]=(0,l.createElementVNode)('div',{class:'inf-section-title'},'属性加成',-1)),(0,l.createElementVNode)('div',yo,[(0,l.createElementVNode)('div',fo,[t[81]||(t[81]=(0,l.createElementVNode)('div',{class:'bg-head'},'六维',-1)),(0,l.createElementVNode)('div',No,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)($c(['力量','体力','敏捷','智力','精神','魅力']),e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e.key,class:'chip strong'},(0,l.toDisplayString)(e.key)+' '+(0,l.toDisplayString)(e.value),1))),128))])]),(0,l.createElementVNode)('div',go,[t[82]||(t[82]=(0,l.createElementVNode)('div',{class:'bg-head'},'基础',-1)),(0,l.createElementVNode)('div',Vo,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)($c(['HP','EP','SP']),e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e.key,class:'chip'},(0,l.toDisplayString)(e.key)+' '+(0,l.toDisplayString)(e.value),1))),128)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)($c(['ATK','DEF']),e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:'bd'+e.key,class:'bonus-bar'},[(0,l.createElementVNode)('b',ho,(0,l.toDisplayString)(e.key),1),(0,l.createElementVNode)('span',So,[(0,l.createElementVNode)('i',{style:(0,l.normalizeStyle)({width:Wo(e.value,gc.value&&gc.value.rank||'D','ATK'===e.key?'atk':'def')+'%'})},null,4)]),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(e.value),1)]))),128))])]),$c(['法术ATK','法术强度']).length?((0,l.openBlock)(),(0,l.createElementBlock)('div',Bo,[t[83]||(t[83]=(0,l.createElementVNode)('div',{class:'bg-head'},'扩展',-1)),(0,l.createElementVNode)('div',bo,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)($c(['法术ATK','法术强度']),e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e.key,class:'chip magic'},(0,l.toDisplayString)(e.key)+' '+(0,l.toDisplayString)(e.value),1))),128))])])):(0,l.createCommentVNode)('v-if',!0)])])):(0,l.createCommentVNode)('v-if',!0),gc.value&&(gc.value.reunionLevel||Bc.value.length)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Co,[t[86]||(t[86]=(0,l.createElementVNode)('div',{class:'inf-section-title'},'重聚潜能',-1)),(0,l.createElementVNode)('div',Do,[t[85]||(t[85]=(0,l.createElementVNode)('div',{class:'k'},'等级',-1)),(0,l.createElementVNode)('div',wo,(0,l.toDisplayString)(gc.value?.reunionLevel||'无'),1)]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Bc.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'kv',key:'r'+t},[(0,l.createElementVNode)('div',xo,'理由'+(0,l.toDisplayString)(Bc.value.length>1?' '+(t+1):''),1),(0,l.createElementVNode)('div',Ao,(0,l.toDisplayString)(e),1)]))),128))])):(0,l.createCommentVNode)('v-if',!0)],512)],2)],2)):(0,l.createCommentVNode)('v-if',!0)]))],64)):((0,l.openBlock)(),(0,l.createElementBlock)('div',d,'未能找到有效的角色数据。')):((0,l.openBlock)(),(0,l.createElementBlock)('div',i,'正在载入状态数据...'))]))}}),Mo=(0,n.A)($o,[['__scopeId','data-v-e0fa60ea']]),Fo={class:'page'},Lo={class:'tabs'},_o=['onClick'],To={class:'parchment'},Po=(0,l.defineComponent)({__name:'世界',setup(e){const t=['正文','状态','世界','角色','清单'];return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Fo,[(0,l.createElementVNode)('div',Lo,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(t,t=>(0,l.createElementVNode)('button',{key:t,class:(0,l.normalizeClass)(['tab',{a:'世界'===t}]),onClick:l=>e.$router.push('/'+t)},(0,l.toDisplayString)(t),11,_o)),64))]),(0,l.createElementVNode)('div',To,[a[0]||(a[0]=(0,l.createElementVNode)('div',{class:'corner-fold'},null,-1)),a[1]||(a[1]=(0,l.createElementVNode)('h3',{class:'head'},'世界',-1)),(0,l.createVNode)(Mo,{view:'world'}),a[2]||(a[2]=(0,l.createElementVNode)('div',{class:'tear'},null,-1))])]))}}),_=(0,n.A)(Po,[['__scopeId','data-v-431a7312']]),jo={class:'page'},Io={class:'tabs'},Oo=['onClick'],Ho={class:'parchment'},zo=['title'],qo={class:'gear-opts'},Ro={class:'gear-ctl'},Ko=['value'],Jo={class:'val'},Uo={class:'gear-ctl'},Zo=['value'],Wo=['value'],Yo={class:'gear-opts'},Go={class:'gear-ctl'},Qo=['checked'],Xo=['innerHTML'],ec={key:1,class:'prop'},tc={class:'missions'},lc=['onClick'],ac={class:'m-title'},nc=['innerHTML'],oc={key:0,class:'m-actions'},cc=['onClick'],sc={key:2,class:'prop'},rc={class:'market'},ic={class:'market-tabs'},dc=['onClick'],mc={key:0,class:'attr-panel'},pc={key:0,class:'char-row'},uc=['onClick'],vc={key:1,class:'bl-row'},kc=['onClick'],Ec={class:'row between attr-sum'},yc={class:'coin'},fc={class:'evo-section'},Nc={class:'evo-bar'},gc={class:'evo-text'},Vc={class:'evo-info'},hc={class:'cur'},Sc={class:'next'},Bc={class:'attr-grid'},bc={class:'a-name'},Cc={class:'emo'},Dc={class:'a-base'},wc={class:'a-ctrl'},xc=['onClick'],Ac=['value','onInput'],$c=['onClick'],Mc={key:1,class:'market-items'},Fc=['onClick'],Lc={class:'row between'},_c={class:'i-name'},Tc={class:'i-badges'},Pc={class:'badge'},jc={class:'badge'},Ic={class:'i-attrs'},Oc={key:0,class:'qty'},Hc=['onClick'],zc=['value','onInput'],qc=['onClick'],Rc={key:0,class:'empty'},Kc={class:'market-footer'},Jc={class:'sum'},Uc={key:0,class:'warn-msg'},Zc=['disabled','title'],Wc={class:'opts-summary'},Yc={class:'opt-toggle'},Gc={class:'opt-btns'},Qc=['onClick'],Xc={class:'txt'},es='正文美化',ts=(0,l.defineComponent)({__name:'正文',setup(e){const t=['正文','状态','世界','角色','清单'],a=(0,l.ref)(''),n=(0,l.ref)(''),o=(0,l.ref)(null),c=(0,l.ref)(!1),s=(0,l.ref)(parseInt(localStorage.getItem('无限_font_size')||'14',10)||14),r=(0,l.ref)(localStorage.getItem('无限_font_family')||'default'),i=[{value:'default',label:'默认'},{value:'inter',label:'Inter (Sans)'},{value:'noto-sans',label:'Noto Sans SC (中文)'},{value:'merri',label:'Merriweather (Serif)'},{value:'noto-serif',label:'Noto Serif SC (中文)'},{value:'jetbrains',label:'JetBrains Mono (等宽)'}],d=(0,l.ref)((()=>{try{return'1'===localStorage.getItem('无限_native_hidden')}catch{return!1}})()),m=(0,l.ref)((()=>{try{return localStorage.getItem('无限_theme')||'parchment'}catch{return'parchment'}})());let p=[],u=[],v=!1;const k=(0,l.ref)([]),E=(0,l.ref)(!1),y=(0,l.ref)(null),f=(0,l.ref)(null),N=(0,l.ref)({}),g=(0,l.ref)(''),V=(0,l.ref)(new Set),h=(0,l.ref)([]);const S=['力量','体力','敏捷','智力','精神','魅力'],B={力量:'💪',体力:'❤️',敏捷:'⚡',智力:'🧠',精神:'✨',魅力:'👑'},b=(0,l.ref)({}),C=(0,l.ref)([]),D=(0,l.ref)(null),w=(0,l.ref)(['我']),x=(0,l.ref)(0),A=(0,l.ref)([]),M=(0,l.ref)(!1),F=(0,l.ref)(0),L=(0,l.computed)(()=>A.value[Math.max(0,Math.min(F.value,A.value.length-1))]),T=(0,l.ref)({}),P=(0,l.ref)({}),j=(0,l.ref)(0),I=(0,l.ref)({}),O=(0,l.ref)({}),H={F:{min:0,max:29,cost:25},E:{min:30,max:99,cost:30},D:{min:100,max:299,cost:40},C:{min:300,max:999,cost:50},B:{min:1e3,max:2999,cost:75},A:{min:3e3,max:9999,cost:100},S:{min:1e4,max:29999,cost:150},SS:{min:3e4,max:99999,cost:200},SSS:{min:1e5,max:1/0,cost:300}},q=['F','E','D','C','B','A','S','SS','SSS'],R={F:'普通',E:'强韧',D:'精锐',C:'超凡',B:'英雄',A:'王者',S:'圣域',SS:'神话',SSS:'至高'},K=(0,l.ref)({}),J=(0,l.ref)(0);(0,l.onMounted)(async()=>{try{try{De()}catch{}try{!function(){try{window.parent?.document||document;const e=window.frameElement;if(e&&e.closest){const t=e.closest('.mes');if(t)return void t.setAttribute('data-th-keep','1')}const t=document.querySelector('#app');if(t&&t.closest){const e=t.closest('.mes');if(e)return void e.setAttribute('data-th-keep','1')}}catch{}}()}catch{}try{we(m.value)}catch{}const e=(await getChatMessages(getCurrentMessageId()))?.[0]||{},t=e?.message||'';a.value=t;const l=e?.data?.stat_data||{};b.value=Object.values(l).find(e=>e&&e.姓名)||{};const o=function(e){if(!e)return[];const t=function(e){if(!e||'object'!=typeof e)return e;const t={};for(const l in e)l.startsWith('$')||(t[l]=e[l]);return t}(e);if(Array.isArray(t))return t.filter(e=>e&&('object'!=typeof e||Object.keys(e).length>0));if('object'==typeof t){const e=Object.entries(t);return e.some(([e])=>/^[A-Z]+_\d+/.test(e))?e.map(([,e])=>e).filter(e=>e&&'object'==typeof e):e.map(([e,t])=>t&&'object'==typeof t&&!('名称'in t)?{名称:e,...t}:t).filter(Boolean)}return[]}(b.value?.['登场角色']);C.value=o.filter(e=>'同伴'===String(e?.['阵营标识']||e?.['阵营']||'')),w.value=['我'].concat(C.value.map(e=>String(e?.名称||'同伴')));const c=je(b.value),s=C.value.find(e=>je(e));D.value=c?b.value:s||b.value,x.value=c?0:s?C.value.indexOf(s)+1:0,T.value=Object.fromEntries(S.map(e=>[e,parseInt(String(D.value?.属性?.基础?.[e]??'0').replace(/,/g,''))||0])),I.value=Object.fromEntries(S.map(e=>[e,0])),M.value=c||!!s,xe(),Ae();try{J.value=parseInt(String(function(e,t='N/A'){return null==e?t:Array.isArray(e)?0===e.length?t:e[0]??t:e}(b.value?.['空间币'],0)).replace(/,/g,''))||0}catch{J.value=0}Ie(),n.value=function(e){if(!e)return'';let t=e;return u.forEach(({re:e,replace:l})=>{try{t=t.replace(e,l)}catch{}}),t}(t)}catch{}try{eventOn(tavern_events.SETTINGS_UPDATED,()=>Ie())}catch{}(0,l.onUnmounted)(()=>{ne&&(clearTimeout(ne),ne=null)});const e=a.value.match(/<options>[\s\S]*?<\/options>/i),t=[];e&&e[0].replace(/<\/?options>/gi,'').split(/\n/).map(e=>e.trim()).filter(Boolean).forEach(e=>{const l=e.match(/^\s*\d+\.\s*(.*)$/),a=(l?l[1]:e).trim(),n=a.replace(/\([^)]*\)/g,'').trim(),o=a;n&&t.push({display:o,sendText:n})}),k.value=t;const o=a.value.match(/<market>([\s\S]*?)<\/market>/i);if(o){N.value=function(e){const t={};if(!e)return t;try{e.split(/---\s*/).filter(e=>e.trim()).forEach(e=>{const l=/^\s*【([^】]+)】/gm,a=Array.from(l[Symbol.matchAll]?l[Symbol.matchAll](e):e.matchAll(l));if(a.length<2)return;const n=a[0][1].trim(),o=[],c=a.slice(1);c.forEach((t,l)=>{const a=t[1].trim(),n=(t.index||0)+t[0].length,s=c[l+1],r=s&&s.index||e.length,i=e.slice(n,r).trim(),d=i.indexOf('['),m=i.lastIndexOf(']');if(d<0||m<0||m<=d)return;const p=i.slice(d+1,m),u={};let v=0,k='F';if(p.split('|').map(e=>e.trim()).forEach(e=>{e.split(',').map(e=>e.trim()).forEach(e=>{if(!e)return;const t=e.search(/[:：]/);if(t>-1){const l=e.slice(0,t).trim(),a=e.slice(t+1).trim();'价格'===l?v=parseInt(a,10)||0:'评级'===l?k=a:u[l]=a}else{const t=e.match(/^([A-Za-z\u4e00-\u9fa5\s]+)\+([\d.]+%?)$/);t&&(u[t[1].trim()]=`+${t[2]}`)}})}),!v){const e=(u['价格']||'').toString(),t=parseInt(e.replace(/[^\d]/g,'')||'0',10);t&&(v=t),delete u['价格']}!k&&u['评级']&&(k=String(u['评级']),delete u['评级']),v>0&&k&&o.push({name:a,attributes:u,price:v,rating:k})}),o.length&&(t[n]=o)})}catch{}return t}(o[1]||'');const e=Object.keys(N.value),t=(M.value?['属性加点']:[]).concat(e);g.value=t[0]||''}const c=a.value.match(/<mission>([\s\S]*?)<\/mission>/gi)||[];h.value=c.map(e=>function(e){const t=[],l=/【([^】]+)】\s*(?:\(([^\)]*)\))?\s*\[([\s\S]*?)\]/g;let a;for(;a=l.exec(e);){const e=a[1]?.trim()||'',l=a[2]?.trim()||void 0,n=a[3]?.trim()||'';t.push({title:l?`${e}（${l}）`:e,body:n,source:l})}return t}(e.replace(/<\/?mission>/gi,''))).flat()});const U=(0,l.computed)(()=>{let e=n.value||a.value||'';e=e.replace(/<options>[\s\S]*?<\/options>/gi,'').replace(/<market>[\s\S]*?<\/market>/gi,'').replace(/<mission>[\s\S]*?<\/mission>/gi,'').trim(),e=e.replace(/\n{3,}/g,'\n\n'),e=function(e){if(!e||-1===e.indexOf('<CheckResult>'))return e;const t=/<CheckResult>([\s\S]*?)<\/CheckResult>/gi;return e.replace(t,(e,t)=>['<div class="check-result" data-b64="',Q(String(t||'')),'">','<button class="cr-btn"><span class="cr-ico">🎲</span><span class="cr-label"></span></button>','<div class="cr-content"></div>','</div>'].join(''))}(e);try{e=function(e){if(!e)return e;const t=/```([a-zA-Z0-9_-]*)?[\t ]*\r?\n([\s\S]*?)```/g;return e.replace(t,(e,t,l)=>{const a=String(l||'').trim(),n=String(t||'').toLowerCase(),o=/<!doctype\s+html/i.test(a)||/<html[\s>]/i.test(a),c=/<script[^>]+src=["'][^"']+["'][^>]*><\/script>/i.test(a);if(('html'===n||o||c)&&function(e){try{const t=/<script[^>]+src=["']([^"']+)["'][^>]*>/gi;let l,a=!0;for(;l=t.exec(e);){const e=(l[1]||'').trim();if(e)try{const t=new URL(e,'https://example.com');if(/^https?:$/i.test(t.protocol)&&!te.has(t.host)){a=!1;break}}catch{}}return a}catch{return!1}}(a)){return`<div class="th-embed" data-b64="${Q(a)}"></div>`}return e})}(e)}catch{}return e=function(e){if(!e)return e;try{const t=[];let l=e.replace(/<((?:details)[^>]*class=\"[^\"]*thinking-description[^\"]*\"[^>]*)>([\s\S]*?)<\/details>/gi,(e,l,a)=>`@@THHOLDER_${t.push(`<details ${l.split('details')[1]||''}>${a}</details>`)-1}@@`);function a(e){const t=e.split(/(<[^>]+>)/g);for(let e=0;e<t.length;e++){const l=t[e];l&&!/^<[^>]+>$/.test(l)&&(t[e]=l.replace(/(^|[^A-Za-z0-9_=])\"([^\"<>\n]+)\"/g,'$1<span class="s-dialog-inline">"$2"</span>').replace(/「([^」]+)」/g,'<span class="s-dialog-inline">「$1」</span>').replace(/『([^』]+)』/g,'<span class="s-dialog-inline">『$1』</span>').replace(/__([^_]+)__/g,'<u>$1</u>'))}return t.join('')}return l=l.replace(/<div[^>]*class=\"[^\"]*th-embed[^\"]*\"[^>]*>[\s\S]*?<\/div>/gi,e=>`@@THHOLDER_${t.push(e)-1}@@`),l=l.replace(/<(code|pre|script|style)[^>]*>[\s\S]*?<\/\1>/gi,e=>`@@THHOLDER_${t.push(e)-1}@@`),l=l.replace(/(^|[^*])\*([^*<>\n]+)\*(?!\*)/g,(e,t,l)=>`${t}<em>${l}</em>`),l=a(l),l=l.split(/\n/).map(e=>{let t=e;const l=t.replace(/^\s+/,'');if(!l)return t;if(/^</.test(l))return t;const a=/[<>]/.test(t),n=/[A-Za-z_][\w:-]*\s*=\s*"/.test(t);if(!a&&!n){if(/^【系统】/.test(l))return`<span class="s-system">${t}</span>`;if(/^[\"“「『]/.test(l))return`<span class="s-dialog">${t}</span>`;if(/^(>|——)/.test(l))return`<span class="s-quote">${t}</span>`}return t}).join('\n'),l=l.replace(/@@THHOLDER_(\d+)@@/g,(e,l)=>t[parseInt(String(l),10)]||''),l}catch{return e}}(e),e});function Z(e){try{if('function'==typeof triggerSlash)return void triggerSlash(`/send ${e}|/trigger`)}catch{}try{const t=window.parent?.document?.querySelector?.('#send_textarea');if(t){const l=String(t.value||'').trim();return t.value=l?`${l}\n${e}`:e,void t.dispatchEvent(new Event('input',{bubbles:!0}))}}catch{}}function W(e,t){y.value=t,function(e){try{const t=window.parent?.document?.querySelector?.('#send_textarea');if(t){const l=String(t.value||'').trim();t.value=l?`${l}\n${e}`:e,t.dispatchEvent(new Event('input',{bubbles:!0}))}}catch{}}(e.sendText)}function Y(e){const t=e.target;E.value=!!t?.open}function G(e){const t=String(e||'');let l=String(t||'').replace(/[&<>]/g,e=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[e]||e));return l=l.replace(/\n/g,'<br>'),['世界背景','主线任务','执行者支线','注意事项','难度评级'].forEach(e=>{const t=new RegExp(`(${e}s*[:：])`,'g');l=l.replace(t,'<br><span class="label-strong">$1</span>')}),l}function Q(e){try{return btoa(unescape(encodeURIComponent(e)))}catch{return''}}function X(e){try{return decodeURIComponent(escape(atob(e)))}catch{return''}}function ee(e){if(!e)return;Array.from(e.querySelectorAll('.check-result')).forEach(e=>{if('1'===e.getAttribute('data-processed'))return;const t=X(e.getAttribute('data-b64')||''),l=e.querySelector('.cr-label'),a=e.querySelector('.cr-content'),n=e.querySelector('.cr-btn');l&&a&&n&&(l.textContent=function(e){return(String(e||'').trim().split('\n')[0]||'检定结果').replace(/^\s*>\s*/,'').replace(/^[^\w\s\u4e00-\u9fa5]+/,'').trim()}(t),a.innerHTML=function(e){const t=['DC','HP','EP','DEF','ATK','MATK','AP','vs','命中','成功','失败','伤害','治疗'],l={'[':'bracket',']':'bracket','`':'code','✅':'success','❌':'fail','💥':'damage','💚':'heal','➞':'arrow','→':'arrow','|':'separator'},a=String(e||'').trim().split('\n');let n='';return a.forEach((e,a)=>{const o=Math.floor((e.match(/^(\s*)/)||['',''])[1].length/2);let c=e.trim();c.startsWith('>')&&(c=c.slice(1).trim());let s='',r=!1;for(let e=0;e<c.length;e++){const a=c[e];if('`'===a){r=!r,s+=r?'<span class="tk-code">':'</span>';continue}if(r){s+=a;continue}if(l[a]){s+=`<span class="tk-${l[a]}">${a}</span>`;continue}let n=!1;for(const l of t)if(c.substring(e,e+l.length)===l&&/(\b|\s|[^a-zA-Z])/.test(c[e-1]||' ')&&/(\s|$|[^a-zA-Z])/.test(c[e+l.length]||' ')){s+=`<span class="tk-keyword">${l}</span>`,e+=l.length-1,n=!0;break}if(n)continue;const o=c.substring(e).match(/^(\d+\/\d+|\d+d\d+(?:\s*[+-]\s*\d+)?|-?\d+(?:\.\d+)?%?)/);if(o){const t=o[0];s+=`<span class="${t.includes('d')?'tk-dice':'tk-number'}">${t}</span>`,e+=t.length-1;continue}s+=a}let i='content-line';0===a?i+=' first-line':o>0&&(i+=` indent-${Math.min(o,3)}`),n+=`<div class="${i}">${s}</div>`}),n}(t),n.hasAttribute('data-listener-bound')||(n.addEventListener('click',()=>{n.classList.toggle('active'),a.classList.toggle('show')}),n.setAttribute('data-listener-bound','1')),e.setAttribute('data-processed','1'))})}const te=new Set(['astro4.pages.dev']);function le(e){if(!e)return;Array.from(e.querySelectorAll('.th-embed')).forEach(e=>{if('1'===e.getAttribute('data-processed'))return;const t=X(e.getAttribute('data-b64')||'');if(!t)return void e.setAttribute('data-processed','1');const l=function(e){try{const t=[];let l=!0;e.replace(/<script[^>]+src=["']([^"']+)["'][^>]*>\s*<\/script>/gi,(e,a)=>{const n=String(a||'').trim();if(n){t.push(n);try{const e=new URL(n,'https://example.com');/^https?:$/i.test(e.protocol)&&(te.has(e.host)||(l=!1))}catch{l=!1}}return''});const a=e.replace(/<!doctype[\s\S]*?>/gi,'').replace(/<\/(?:html|head|body)>/gi,'').replace(/<(?:html|head|body)[^>]*>/gi,'').replace(/<script[\s\S]*?<\/script>/gi,'').replace(/<meta[^>]*>/gi,'').replace(/<link[^>]*>/gi,'').replace(/<title[\s\S]*?<\/title>/gi,'').replace(/<style[\s\S]*?<\/style>/gi,'').replace(/<!--([\s\S]*?)-->/g,'').replace(/\s+/g,'').trim().length>0;return{scriptSrcs:t,onlyAllowedScripts:l&&!a}}catch{return null}}(t);if(l&&l.onlyAllowedScripts&&l.scriptSrcs.length>0){l.scriptSrcs.forEach(e=>{try{if(document.querySelector(`script[src="${e}"]`))return;const t=document.createElement('script');t.src=e,t.async=!0,document.head.appendChild(t)}catch{}});try{e.remove()}catch{e.innerHTML=''}return}const a=document.createElement('iframe');a.setAttribute('sandbox','allow-scripts allow-same-origin'),a.setAttribute('referrerpolicy','no-referrer'),a.style.width='100%',a.style.border='0',a.style.background='transparent',a.style.minHeight='0px',a.style.height='0px';try{a.srcdoc=t}catch{a.setAttribute('srcdoc',t)}const n=()=>{try{const t=e.closest&&e.closest('.thinking-description')||null;if(t&&!t.open)return a.style.display='none',void(a.style.height='0px');const l=a.contentDocument||a.contentWindow?.document;let n=0;l&&l.body&&(n=Math.max(l.body.scrollHeight||0,l.documentElement&&l.documentElement.scrollHeight||0,0)),n>20?(a.style.height=`${n}px`,a.style.display=''):(a.style.display='none',a.style.height='0px',a.style.minHeight='0px')}catch{a.style.display='none',a.style.height='0px',a.style.minHeight='0px'}};a.addEventListener('load',()=>{n();try{const e=a.contentWindow,t=a.contentDocument||e?.document,l=e&&e.ResizeObserver||window.ResizeObserver;if(l&&t?.body){new l(()=>n()).observe(t.body)}else{let e=0;const t=setInterval(()=>{e++,n(),e>50&&clearInterval(t)},200)}const o=t=>{try{if(!t||t.source!==e)return;const l=t.data||{};if(l&&'resizeIframe'===l.type){const e=Math.max(0,parseInt(String(l.height||0),10)||0);a.style.height=e>0?`${e}px`:'0px',a.style.display=e>0?'':'none'}}catch{}};window.addEventListener('message',o),a.addEventListener('remove',()=>{try{window.removeEventListener('message',o)}catch{}})}catch{}}),e.innerHTML='',e.appendChild(a);try{const t=e.closest&&e.closest('.thinking-description')||null;if(t){const e=t.querySelector('div');if(e){const l=e.style.maxHeight,o=e.style.overflow,c=e.style.overflowY||'',s=()=>{e.style.maxHeight='none',e.style.overflow='visible',e.style.overflowY='visible',n()},r=()=>{e.style.maxHeight=l,e.style.overflow=o,e.style.overflowY=c,a.style.display='none',a.style.height='0px'};t.open?s():r(),t.addEventListener('toggle',()=>{t.open?s():r()})}}}catch{}e.setAttribute('data-processed','1')})}let ae='',ne=null;(0,l.watch)(U,async()=>{await(0,l.nextTick)(),U.value!==ae&&(ne&&clearTimeout(ne),ne=setTimeout(()=>{ee(o.value),le(o.value),ne=null},100),ae=U.value)},{immediate:!0});const oe=(0,l.computed)(()=>Object.keys(N.value)),ce=(0,l.computed)(()=>(M.value?['属性加点']:[]).concat(oe.value));function se(e,t){return`${t}||${e.name}`}function re(e,t){return V.value.has(se(e,t))}const ie=(0,l.ref)({});function de(e,t,l){const a=se(e,t);if(!V.value.has(a))return;const n=Math.max(1,(ie.value[a]||1)+l);ie.value[a]=n}const me=(0,l.computed)(()=>{const e=[];return oe.value.forEach(t=>{(N.value[t]||[]).forEach(l=>{const a=se(l,t);V.value.has(a)&&e.push({cat:t,item:l,qty:Math.max(1,ie.value[a]||1)})})}),e}),pe=(0,l.computed)(()=>me.value.reduce((e,t)=>e+(t.item.price||0)*(t.qty||1),0)),ue=(0,l.computed)(()=>S.reduce((e,t)=>e+(I.value[t]||0),0)),ve=(0,l.computed)(()=>Me(j.value,ue.value)),ke=(0,l.computed)(()=>j.value+ue.value),Ee=(0,l.computed)(()=>$e(ke.value)),ye=(0,l.computed)(()=>{const e=Ee.value,t=H[e];return t.max===1/0?'已达最高':`下一级: ${t.max+1}`}),fe=(0,l.computed)(()=>{const e=Ee.value,t=H[e];if(!t)return 0;const l=ke.value-t.min,a=t.max-t.min;return a===1/0?100:Math.min(100,Math.max(0,l/a*100))}),Ne=(0,l.computed)(()=>{let e=0;return Object.entries(O.value).forEach(([t,l])=>{const a=K.value[t],n=a?.baseSum??0,o=S.reduce((e,t)=>e+(l[t]||0),0);e+=Me(n,o)}),e}),ge=(0,l.computed)(()=>pe.value+Ne.value),Ve=(0,l.computed)(()=>(J.value||0)-ge.value),he=(0,l.computed)(()=>{if(Ve.value<0)return!1;if(pe.value>0)return!0;return Object.values(O.value).some(e=>S.some(t=>(e[t]||0)>0))||ue.value>0}),Se=(0,l.computed)(()=>he.value?'':Ve.value<0?'余额不足，无法生成交易协议':'请选择商品或进行属性加点后再生成协议');function Be(){if(!he.value)return;const e=[];e.push('# 【主神空间 - 交易结算协议】');const t={};Object.entries(O.value).forEach(([e,l])=>{const[a,n]=e.split('||');t[a]||(t[a]=[]),t[a].push({blood:n,points:l})});const l=e=>S.reduce((t,l)=>t+(e[l]||0),0);Object.entries(O.value).reduce((e,[t,a])=>e+Me(K.value[t]?.baseSum??0,l(a)),0);Object.keys(t).length&&(e.push('## 【基因序列强化日志】'),Object.entries(t).forEach(([t,a])=>{const n=(e=>String(e||'未知角色'))(t);e.push(`- 角色：${n}`),a.forEach((a,n)=>{n>0&&e.push('');const o=`${t}||${a.blood}`,c=K.value[o],s=c?.baseSum??0,r=String(c?.initialTier||$e(s)),i=l(a.points),d=String($e(s+i)),m=d!==r?function(e,t){const l=String(e||'').trim(),a=R[t]||'',n=function(e){const t=String(e).toUpperCase();return'SSS'===t?'SSS级':'SS'===t?'SS级':'S'===t?'S级':'ABCDEF'.includes(t)?`${t}级`:''}(t),o=Object.values(R).filter(Boolean).join('|'),c=/^(SSS级|SS级|S级|[A-F]级)([\s\S]+)$/,s=new RegExp(`^(${o})(SSS级|SS级|S级|[A-F]级)([\\s\\S]+)$`),r=new RegExp(`^(${o})([\\s\\S]+)$`);let i,d='';if(i=l.match(s))return d=i[3].trim(),`${a}${n}${d}`;if(i=l.match(r))return d=i[2].trim(),`${a}${n}${d}`;if(i=l.match(c))return d=i[2].trim(),`${a}${n}${d}`;return`${a}${l}`}(a.blood,d):a.blood;d!==r&&(e.push(`*   **警报:** [${a.blood}] 基因序列发生质变跃迁！已进化至 [${m}]！`),e.push('*   **系统演算中:** 正在根据新的基因模板，随机生成同阶核心能力与被动技能...')),e.push(`*   **目标:** [${a.blood}] 基因序列。`);const p=Me(s,i);e.push(`*   **操作:** 注入高维能量，执行定向强化。消耗 ${p} 空间币。`);const u=K.value[o]?.bonuses||{},v=S.map(e=>`${e}+${(u[e]||0)+(a.points[e]||0)}`);e.push(`*   **强化结果:** [${a.blood}] 的属性加成已更新为: ${v.join(', ')}`),e.push('')})})),e.push('## 【物质兑换清单】'),me.value.forEach(t=>{const l=Math.max(1,t.qty||1),a=(t.item.price||0)*l;e.push(`*   **项目:** ${t.item.name} [评级:${t.item.rating}] × ${l}`),e.push(`*   **小计:** ${a} 空间币`)}),e.push(''),e.push('---'),e.push('## 【财务结算摘要】'),e.push(`*   **交易总额:** ${ge.value} 空间币`),e.push(`*   **账户余额:** ${Math.max(0,J.value-ge.value)} 空间币`),e.push('---'),e.push('【系统】: 正在验证轮回者权限...权限已确认。'),e.push('【系统】: 正在核对账户余额...余额充足。'),e.push('【系统】: 正在执行资源交换协议...'),e.push('【系统】: 交换完成。数据已同步至您的轮回印记。'),e.push('【系统】: 已给予轮回者更多时间适应新购买的商品。');Z(e.join('\n').replace(/\n{3,}/g,'\n\n'))}const be=(0,l.ref)(null);function Ce(){be.value=null}function De(){const e=document.querySelector('.parchment .story');if(!e)return;e.style.fontSize=`${s.value}px`;const t={inter:'Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif','noto-sans':'Noto Sans SC, Inter, system-ui, sans-serif',merri:'Merriweather, Georgia, serif','noto-serif':'Noto Serif SC, Merriweather, serif',jetbrains:'JetBrains Mono, SF Mono, Monaco, Menlo, Consolas, monospace'};r.value&&'default'!==r.value?e.style.fontFamily=t[r.value]||'':e.style.removeProperty('font-family')}function we(e){try{const t=document.documentElement,l=['parchment','unl-night'].includes(e)?e:'parchment';t.setAttribute('data-unlimited-theme',l)}catch{}}function xe(){try{const e=D.value?.['血统'];if(!e||'object'!=typeof e)return void(M.value=!1);const t=Array.isArray(e)?e.map(e=>{if(!e)return null;if('object'==typeof e&&'名称'in e)return{key:String(e['名称']),data:e};const t=Object.keys(e)[0];return t?{key:t,data:e[t]||{}}:null}).filter(Boolean):Object.keys(e).map(t=>({key:t,data:e[t]||{}}));A.value=t.map(e=>({key:e.key,name:e.data['名称']||e.key,data:e.data})),M.value=A.value.length>0}catch{M.value=!1}}function Ae(){if(!M.value)return;const e=A.value[Math.max(0,Math.min(F.value,A.value.length-1))],t=function(e){const t=Object.fromEntries(S.map(e=>[e,0]));if(!e)return t;if('string'==typeof e){const l=String(e).replace(/[\[\]（）()]/g,' ').split(/[，,、;\n\r]+/).map(e=>e.trim()).filter(Boolean);let a=null;l.forEach(e=>{const l=e.match(/(其余|其餘|其他|其它)\s*[:：]?\s*[+＋]?\s*([+-−—]?[\d\.]+)/);if(l)return void(a=parseInt(l[2].replace('−','-').replace('—','-'),10)||0);const n=e.match(/(力量|体力|敏捷|智力|精神|魅力)\s*[:：]?\s*[+＋]?\s*([+-−—]?[\d\.]+)/);if(n){const e=n[1],l=n[2].replace('−','-').replace('—','-');t[e]=parseInt(l,10)||0}}),null!==a&&['力量','体力','敏捷','智力','精神','魅力'].forEach(e=>{t[e]||(t[e]=a)})}else'object'==typeof e&&S.forEach(l=>{t[l]=parseInt(String(e[l]||'0'),10)||0});return t}(e?.data?.属性加成);P.value=t,j.value=S.reduce((e,l)=>e+(t[l]||0),0);try{const e=Le(),l=$e(j.value);K.value[e]={baseSum:j.value,initialTier:String(l),bonuses:{...t}}}catch{}}function $e(e){for(const t of q)if(e<=H[t].max)return t;return'SSS'}function Me(e,t){if(t<=0)return 0;let l=0,a=t,n=e;for(;a>0;){const e=$e(n),t=H[e].cost,o=H[e].max-n+1,c=Math.min(a,o);l+=c*t,n+=c,a-=c}return l}function Fe(e,t){const l=Math.max(0,(I.value[e]||0)+t);I.value[e]=l,_e()}function Le(){return`${String(D.value?.姓名||D.value?.名称||'未知角色')}||${String(L.value?.name||'')}`}function _e(){const e=Le();if(e&&e.includes('||')&&(O.value[e]={...O.value[e]||{},...I.value},!K.value[e])){const t=$e(P.value?j.value:0);K.value[e]={baseSum:P.value?j.value:0,initialTier:String(t),bonuses:{...P.value}}}}function Te(){const e=Le(),t=O.value[e]||{};I.value=Object.fromEntries(S.map(e=>[e,parseInt(String(t[e]||'0'),10)||0]))}function Pe(e){x.value=e,function(){const e=x.value;D.value=0===e?b.value:C.value[e-1],T.value=Object.fromEntries(S.map(e=>[e,parseInt(String(D.value?.属性?.基础?.[e]??'0').replace(/,/g,''))||0])),Te(),F.value=0,xe(),Ae()}()}function je(e){try{const t=e?.['血统'];return!(!t||'object'!=typeof t)&&(Array.isArray(t)?t.length>0:Object.keys(t).length>0)}catch{return!1}}function Ie(){try{p=getTavernRegexes({scope:'all',enable_state:'enabled'})||[],v=p.some(e=>String(e?.script_name||'').includes(es));const e=e=>!!e?.source?.ai_output&&!!e?.destination?.display&&!e?.source?.user_input,t=(v?p.filter(e=>!String(e?.script_name||'').includes(es)):p).filter(e);u=[],t.forEach(e=>{const t=String(e.find_regex||'').trim();if(t)try{const l=function(e){if(!e)return null;const t=e.trim();if('/'!==t[0])return null;let l=-1;for(let e=t.length-1;e>=1;e--)if('/'===t[e]){let a=0;for(let l=e-1;l>=0&&'\\'===t[l];l--)a++;if(a%2==0){l=e;break}}if(l<=0)return null;const a=t.slice(1,l),n=t.slice(l+1),o=Array.from(new Set(n.split(''))).filter(e=>'gimsuy'.includes(e)).join('');return{body:a,flags:o}}(t),a=new RegExp(l?l.body:t,l?l.flags:'g');u.push({re:a,replace:String(e.replace_string??'')})}catch{}})}catch{p=[],v=!1}}return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',jo,[(0,l.createElementVNode)('div',Io,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(t,t=>(0,l.createElementVNode)('button',{key:t,class:(0,l.normalizeClass)(['tab',{a:'正文'===t}]),onClick:l=>e.$router.push('/'+t)},(0,l.toDisplayString)(t),11,Oo)),64))]),(0,l.createElementVNode)('div',Ho,[a[26]||(a[26]=(0,l.createElementVNode)('h3',{class:'head'},'正文',-1)),(0,l.createElementVNode)('div',{class:'gear',onClick:a[0]||(a[0]=(0,l.withModifiers)(e=>c.value=!c.value,['stop']))},'⚙'),(0,l.createElementVNode)('div',{class:'theme-toggle',title:'unl-night'===m.value?'切换为日间':'切换为夜间',onClick:a[1]||(a[1]=(0,l.withModifiers)(e=>function(){m.value='unl-night'===m.value?'parchment':'unl-night';try{localStorage.setItem('无限_theme',m.value)}catch{}we(m.value)}(),['stop']))},(0,l.toDisplayString)('unl-night'===m.value?'🌙':'☀️'),9,zo),c.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:0,class:'gear-panel',onClick:a[6]||(a[6]=(0,l.withModifiers)(()=>{},['stop']))},[a[10]||(a[10]=(0,l.createElementVNode)('div',{class:'gear-title',style:{'margin-top':'8px'}},'正文字体',-1)),(0,l.createElementVNode)('div',qo,[(0,l.createElementVNode)('label',Ro,[a[8]||(a[8]=(0,l.createElementVNode)('span',null,'大小',-1)),(0,l.createElementVNode)('input',{type:'range',min:'12',max:'22',step:'1',value:s.value,onInput:a[2]||(a[2]=e=>function(e){const t=parseInt(e.target.value,10)||14;s.value=Math.min(22,Math.max(12,t));try{localStorage.setItem('无限_font_size',String(s.value))}catch{}De()}(e))},null,40,Ko),(0,l.createElementVNode)('span',Jo,(0,l.toDisplayString)(s.value)+'px',1)]),(0,l.createElementVNode)('label',Uo,[a[9]||(a[9]=(0,l.createElementVNode)('span',null,'样式',-1)),(0,l.createElementVNode)('select',{value:r.value,onChange:a[3]||(a[3]=e=>function(e){r.value=e.target.value||'default';try{localStorage.setItem('无限_font_family',r.value)}catch{}De()}(e))},[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(i,e=>(0,l.createElementVNode)('option',{key:e.value,value:e.value},(0,l.toDisplayString)(e.label),9,Wo)),64))],40,Zo)])]),a[11]||(a[11]=(0,l.createElementVNode)('div',{class:'gear-title',style:{'margin-top':'8px'}},'原楼层显示',-1)),(0,l.createElementVNode)('div',Yo,[(0,l.createElementVNode)('label',Go,[(0,l.createElementVNode)('input',{type:'checkbox',checked:!d.value,onChange:a[4]||(a[4]=t=>e.onNativeToggle(t))},null,40,Qo),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(d.value?'隐藏中':'显示中'),1)]),(0,l.createElementVNode)('button',{class:'btn small',onClick:a[5]||(a[5]=(0,l.withModifiers)(t=>e.toggleNative(),['stop']))},(0,l.toDisplayString)(d.value?'显示原楼层':'隐藏原楼层'),1)])])):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',{class:'story',ref_key:'storyRoot',ref:o,innerHTML:U.value},null,8,Xo),(0,l.createCommentVNode)(' 世界候选（羊皮纸分节） '),h.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',ec,[a[12]||(a[12]=(0,l.createElementVNode)('div',{class:'pname'},'世界候选',-1)),(0,l.createElementVNode)('div',tc,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(h.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['mission',{sel:t===be.value}]),key:'m'+t,onClick:e=>function(e){be.value=e}(t)},[(0,l.createElementVNode)('div',ac,'🌐 '+(0,l.toDisplayString)(e.title),1),(0,l.createElementVNode)('div',{class:'m-body',innerHTML:G(e.body)},null,8,nc),t===be.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',oc,[(0,l.createElementVNode)('button',{class:'btn small',onClick:(0,l.withModifiers)(e=>function(e){'number'==typeof e&&(be.value=e);const t=be.value;if(null===t||t<0||t>=h.value.length)return;const l=h.value[t];Z(`## 【世界信息】\n**世界名称：** 【${l.title}】\n\n## 【世界背景】\n${l.body}\n\n## 正在进入该世界...`),be.value=null}(t),['stop'])},'确认进入',8,cc),(0,l.createElementVNode)('button',{class:'btn small',onClick:(0,l.withModifiers)(Ce,['stop'])},'取消')])):(0,l.createCommentVNode)('v-if',!0)],10,lc))),128))])])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' 市场（羊皮纸分节） '),oe.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',sc,[a[24]||(a[24]=(0,l.createElementVNode)('div',{class:'pname'},'兑换终端',-1)),(0,l.createElementVNode)('div',rc,[(0,l.createElementVNode)('div',ic,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(ce.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e,class:(0,l.normalizeClass)(['market-tab',{a:e===g.value}]),onClick:t=>g.value=e},(0,l.toDisplayString)(e),11,dc))),128))]),'属性加点'===g.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',mc,[w.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',pc,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(w.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:'c'+t,class:(0,l.normalizeClass)(['chip-btn',{a:t===x.value}]),onClick:(0,l.withModifiers)(e=>Pe(t),['stop'])},(0,l.toDisplayString)(e),11,uc))),128))])):(0,l.createCommentVNode)('v-if',!0),A.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',vc,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(A.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e.key,class:(0,l.normalizeClass)(['chip-btn',{a:t===F.value}]),onClick:(0,l.withModifiers)(e=>function(e){F.value=e,Te(),Ae()}(t),['stop'])},(0,l.toDisplayString)(e.name),11,kc))),128))])):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',Ec,[(0,l.createElementVNode)('div',null,[a[13]||(a[13]=(0,l.createTextVNode)('总加点：',-1)),(0,l.createElementVNode)('b',null,(0,l.toDisplayString)(ue.value),1)]),(0,l.createElementVNode)('div',null,[a[14]||(a[14]=(0,l.createTextVNode)('消耗币：',-1)),(0,l.createElementVNode)('b',yc,(0,l.toDisplayString)(ve.value),1)])]),(0,l.createElementVNode)('div',fc,[a[15]||(a[15]=(0,l.createElementVNode)('div',{class:'evo-title'},'血统进化进度',-1)),(0,l.createElementVNode)('div',Nc,[(0,l.createElementVNode)('div',{class:'evo-fill',style:(0,l.normalizeStyle)({width:fe.value+'%'})},[(0,l.createElementVNode)('span',gc,(0,l.toDisplayString)(Math.round(fe.value))+'%',1)],4)]),(0,l.createElementVNode)('div',Vc,[(0,l.createElementVNode)('div',hc,'当前: '+(0,l.toDisplayString)(Ee.value)+'级 ('+(0,l.toDisplayString)(ke.value)+')',1),(0,l.createElementVNode)('div',Sc,(0,l.toDisplayString)(ye.value),1)])]),(0,l.createElementVNode)('div',Bc,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(S,e=>(0,l.createElementVNode)('div',{key:e,class:'attr-row'},[(0,l.createElementVNode)('div',bc,[(0,l.createElementVNode)('span',Cc,(0,l.toDisplayString)(B[e]),1),(0,l.createTextVNode)((0,l.toDisplayString)(e),1)]),(0,l.createElementVNode)('div',Dc,'当前 '+(0,l.toDisplayString)(T.value[e]||0)+'（血统+'+(0,l.toDisplayString)(P.value[e]||0)+'）',1),(0,l.createElementVNode)('div',wc,[(0,l.createElementVNode)('button',{class:'a-btn',onClick:(0,l.withModifiers)(t=>Fe(e,-1),['stop'])},'−',8,xc),(0,l.createElementVNode)('input',{class:'a-input',type:'number',min:'0',value:I.value[e]||0,onInput:t=>function(e,t){const l=parseInt(t.target.value,10)||0;I.value[e]=Math.max(0,l),_e()}(e,t)},null,40,Ac),(0,l.createElementVNode)('button',{class:'a-btn',onClick:(0,l.withModifiers)(t=>Fe(e,1),['stop'])},'+',8,$c)])])),64))])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',Mc,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(N.value[g.value],e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['item',{sel:re(e,g.value)}]),key:e.name,onClick:t=>function(e,t){const l=se(e,t);V.value.has(l)?(V.value.delete(l),delete ie.value[l]):(V.value.add(l),(!ie.value[l]||ie.value[l]<1)&&(ie.value[l]=1))}(e,g.value)},[(0,l.createElementVNode)('div',Lc,[(0,l.createElementVNode)('div',_c,(0,l.toDisplayString)(e.name),1),(0,l.createElementVNode)('div',Tc,[(0,l.createElementVNode)('span',Pc,(0,l.toDisplayString)(e.price)+' 币',1),(0,l.createElementVNode)('span',jc,'评级 '+(0,l.toDisplayString)(e.rating),1)])]),(0,l.createElementVNode)('div',Ic,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.attributes,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{class:'chip',key:t},(0,l.toDisplayString)(t)+': '+(0,l.toDisplayString)(e),1))),128))]),re(e,g.value)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Oc,[(0,l.createElementVNode)('button',{class:'a-btn',onClick:(0,l.withModifiers)(t=>de(e,g.value,-1),['stop'])},'−',8,Hc),(0,l.createElementVNode)('input',{class:'a-input',type:'number',min:'1',value:ie.value[se(e,g.value)]||1,onInput:t=>function(e,t,l){const a=se(e,t),n=Math.max(1,parseInt(l.target.value,10)||1);ie.value[a]=n}(e,g.value,t)},null,40,zc),(0,l.createElementVNode)('button',{class:'a-btn',onClick:(0,l.withModifiers)(t=>de(e,g.value,1),['stop'])},'+',8,qc)])):(0,l.createCommentVNode)('v-if',!0)],10,Fc))),128)),N.value[g.value].length?(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('div',Rc,'此分类下暂无商品'))])),(0,l.createElementVNode)('div',Kc,[(0,l.createElementVNode)('div',Jc,[(0,l.createElementVNode)('span',null,[a[16]||(a[16]=(0,l.createTextVNode)('余额：',-1)),(0,l.createElementVNode)('b',null,(0,l.toDisplayString)(J.value),1),a[17]||(a[17]=(0,l.createTextVNode)(' 币',-1))]),a[22]||(a[22]=(0,l.createElementVNode)('span',{class:'sep'},'·',-1)),(0,l.createElementVNode)('span',null,[a[18]||(a[18]=(0,l.createTextVNode)('合计：',-1)),(0,l.createElementVNode)('b',null,(0,l.toDisplayString)(ge.value),1),a[19]||(a[19]=(0,l.createTextVNode)(' 币',-1))]),a[23]||(a[23]=(0,l.createElementVNode)('span',{class:'sep'},'·',-1)),(0,l.createElementVNode)('span',null,[a[20]||(a[20]=(0,l.createTextVNode)('预计剩余：',-1)),(0,l.createElementVNode)('b',{class:(0,l.normalizeClass)({warn:Ve.value<0})},(0,l.toDisplayString)(Math.max(0,Ve.value)),3),a[21]||(a[21]=(0,l.createTextVNode)(' 币',-1))]),Ve.value<0?((0,l.openBlock)(),(0,l.createElementBlock)('span',Uc,'余额不足，无法生成')):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('button',{class:'btn',disabled:!he.value,title:Se.value,onClick:a[7]||(a[7]=e=>Be())},'生成交易协议',8,Zc)])])])):(0,l.createCommentVNode)('v-if',!0),k.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('details',{key:3,ref_key:'optsDetails',ref:f,class:'opts-card',onToggle:Y},[(0,l.createElementVNode)('summary',Wc,[(0,l.createElementVNode)('div',Yc,(0,l.toDisplayString)(E.value?'收起选项':'展开选项'),1)]),(0,l.createElementVNode)('div',Gc,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(k.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{class:(0,l.normalizeClass)(['opt-btn',{active:t===y.value}]),key:t,onClick:(0,l.withModifiers)(l=>W(e,t),['stop'])},[a[25]||(a[25]=(0,l.createElementVNode)('span',{class:'dot'},null,-1)),(0,l.createElementVNode)('span',Xc,(0,l.toDisplayString)(e.display),1)],10,Qc))),128))])],544)):(0,l.createCommentVNode)('v-if',!0),a[27]||(a[27]=(0,l.createElementVNode)('div',{class:'tear'},null,-1))])]))}}),ls=(0,n.A)(ts,[['__scopeId','data-v-011f273d']]),as={class:'page'},ns={class:'tabs'},os=['onClick'],cs={class:'parchment'},ss=(0,l.defineComponent)({__name:'清单',setup(e){const t=['正文','状态','世界','角色','清单'];return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',as,[(0,l.createElementVNode)('div',ns,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(t,t=>(0,l.createElementVNode)('button',{key:t,class:(0,l.normalizeClass)(['tab',{a:'清单'===t}]),onClick:l=>e.$router.push('/'+t)},(0,l.toDisplayString)(t),11,os)),64))]),(0,l.createElementVNode)('div',cs,[a[0]||(a[0]=(0,l.createElementVNode)('div',{class:'corner-fold'},null,-1)),a[1]||(a[1]=(0,l.createElementVNode)('h3',{class:'head'},'清单',-1)),(0,l.createVNode)(Mo,{view:'inventory'}),a[2]||(a[2]=(0,l.createElementVNode)('div',{class:'tear'},null,-1))])]))}}),rs=(0,n.A)(ss,[['__scopeId','data-v-a6368772']]),is={class:'page'},ds={class:'tabs'},ms=['onClick'],ps={class:'parchment'},us=(0,l.defineComponent)({__name:'状态',setup(e){const t=['正文','状态','世界','角色','清单'];return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',is,[(0,l.createElementVNode)('div',ds,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(t,t=>(0,l.createElementVNode)('button',{key:t,class:(0,l.normalizeClass)(['tab',{a:'状态'===t}]),onClick:l=>e.$router.push('/'+t)},(0,l.toDisplayString)(t),11,ms)),64))]),(0,l.createElementVNode)('div',ps,[a[0]||(a[0]=(0,l.createElementVNode)('div',{class:'corner-fold'},null,-1)),a[1]||(a[1]=(0,l.createElementVNode)('h3',{class:'head'},'状态',-1)),(0,l.createVNode)(Mo,{view:'status'}),a[2]||(a[2]=(0,l.createElementVNode)('div',{class:'tear'},null,-1))])]))}}),vs=(0,n.A)(us,[['__scopeId','data-v-44e3b804']]),ks={class:'page'},Es={class:'tabs'},ys=['onClick'],fs={class:'parchment'},Ns=(0,l.defineComponent)({__name:'角色',setup(e){const t=['正文','状态','世界','角色','清单'];return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',ks,[(0,l.createElementVNode)('div',Es,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(t,t=>(0,l.createElementVNode)('button',{key:t,class:(0,l.normalizeClass)(['tab',{a:'角色'===t}]),onClick:l=>e.$router.push('/'+t)},(0,l.toDisplayString)(t),11,ys)),64))]),(0,l.createElementVNode)('div',fs,[a[0]||(a[0]=(0,l.createElementVNode)('div',{class:'corner-fold'},null,-1)),a[1]||(a[1]=(0,l.createElementVNode)('h3',{class:'head'},'角色',-1)),(0,l.createVNode)(Mo,{view:'roles'}),a[2]||(a[2]=(0,l.createElementVNode)('div',{class:'tear'},null,-1))])]))}}),gs=(0,n.A)(Ns,[['__scopeId','data-v-2f284233']]),Vs=(0,a.createRouter)({history:(0,a.createMemoryHistory)(),routes:[{path:'/正文',component:ls},{path:'/状态',component:vs},{path:'/世界',component:_},{path:'/角色',component:gs},{path:'/清单',component:rs}]});Vs.replace('/正文'),$(()=>{(0,l.createApp)(s).use(Vs).mount('#app')});</script><style>@import url(https://fonts.googleapis.com/css2?family=Satisfy&family=Cinzel:wght@700&display=swap);
@import url(https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Merriweather:wght@400;700&family=Noto+Sans+SC:wght@400;700&family=Noto+Serif+SC:wght@400;700&family=JetBrains+Mono:wght@400;700&display=swap);
/*! tailwindcss v4.1.12 | MIT License | https://tailwindcss.com */html{height:auto;min-height:0}body{margin:0}body::before{content:"";position:fixed;inset:0;pointer-events:none;background:radial-gradient(200px 200px at 14% 18%,rgba(255,232,180,0.2),transparent 70%),radial-gradient(160px 160px at 86% 76%,rgba(255,210,150,0.16),transparent 65%),radial-gradient(120px 120px at 72% 28%,rgba(255,250,200,0.12),transparent 60%);mix-blend-mode:screen}body::after{content:"";position:fixed;inset:0;pointer-events:none;background:radial-gradient(240px 240px at 6% 10%,rgba(255,220,160,0.2),transparent 70%),radial-gradient(180px 180px at 92% 88%,rgba(255,200,130,0.16),transparent 70%);mix-blend-mode:soft-light}html[data-unlimited-theme="default"] body{background:radial-gradient(ellipse at center,rgba(0,0,0,0.18),rgba(0,0,0,0.08) 40%,rgba(0,0,0,0.04) 60%,rgba(0,0,0,0.02) 80%,transparent 100%) center/100% 100% fixed,repeating-linear-gradient(90deg,#5f3b26 0px,#603c27 4px,#5a3924 8px,#5d3a25 12px) fixed,url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="1" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.06 0.08"/></feComponentTransfer></filter><rect width="120" height="120" filter="url(%23n)"/></svg>') repeat}html[data-unlimited-theme="parchment"] body{background:radial-gradient(ellipse at center,rgba(0,0,0,0.18),rgba(0,0,0,0.08) 40%,rgba(0,0,0,0.04) 60%,rgba(0,0,0,0.02) 80%,transparent 100%) center/100% 100% fixed,repeating-linear-gradient(90deg,#5f3b26 0px,#603c27 4px,#5a3924 8px,#5d3a25 12px) fixed,url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="1" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.06 0.08"/></feComponentTransfer></filter><rect width="120" height="120" filter="url(%23n)"/></svg>') repeat}html[data-unlimited-theme="parchment"]{background:radial-gradient(ellipse at center,rgba(0,0,0,0.18),rgba(0,0,0,0.08) 40%,rgba(0,0,0,0.04) 60%,rgba(0,0,0,0.02) 80%,transparent 100%) center/100% 100% fixed,repeating-linear-gradient(90deg,#5f3b26 0px,#603c27 4px,#5a3924 8px,#5d3a25 12px) fixed,url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n2"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="1" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.06 0.08"/></feComponentTransfer></filter><rect width="120" height="120" filter="url(%23n2)"/></svg>') repeat}html[data-unlimited-theme="light"] body{background:#f5f7fb}html[data-unlimited-theme="clean"] body{background:#f5f7fb}html[data-unlimited-theme="clean"]{background:#f5f7fb}html[data-unlimited-theme="dark"] body{background:#1e1f24}html[data-unlimited-theme="darktide"] body{background:radial-gradient(800px 600px at 80% 10%,rgba(0,255,200,0.08),transparent 60%),radial-gradient(600px 400px at 20% 90%,rgba(0,140,255,0.06),transparent 60%),linear-gradient(180deg,#0a0f14 0%,#0c1b22 50%,#0a0f14 100%)}html[data-unlimited-theme="cyber"] body{background:radial-gradient(600px 600px at 15% 20%,rgba(255,0,128,0.12),transparent 55%),radial-gradient(700px 500px at 85% 80%,rgba(0,255,255,0.1),transparent 55%),linear-gradient(180deg,#12061b 0%,#1b0f2a 50%,#12061b 100%)}html[data-unlimited-theme="default"]{background:#efe3c3 !important;border-color:rgba(120,90,50,.45) !important;box-shadow:0 14px 36px rgba(0,0,0,.38),0 2px 1px hsla(0,0%,100%,.5) inset,0 0 0 2px rgba(120,90,50,.45),inset 0 0 85px rgba(120,90,50,.28) !important}html[data-unlimited-theme="parchment"]{background:#efe3c3 !important;border-color:rgba(120,90,50,.45) !important;box-shadow:0 14px 36px rgba(0,0,0,.38),0 2px 1px hsla(0,0%,100%,.5) inset,0 0 0 2px rgba(120,90,50,.45),inset 0 0 85px rgba(120,90,50,.28) !important}html[data-unlimited-theme="light"]{background:#fff !important;border-color:rgba(120,120,140,.25) !important;box-shadow:0 8px 22px rgba(0,0,0,.08),0 0 0 1px rgba(120,120,140,.15) inset !important}html[data-unlimited-theme="clean"]{background:#fff !important;border-color:rgba(120,120,140,.25) !important;box-shadow:0 8px 22px rgba(0,0,0,.08),0 0 0 1px rgba(120,120,140,.15) inset !important}html[data-unlimited-theme="dark"]{background:#2a2d34 !important;border-color:rgba(200,200,220,.16) !important;box-shadow:0 10px 26px rgba(0,0,0,.45),0 0 0 1px hsla(0,0%,100%,.06) inset !important}html[data-unlimited-theme="darktide"]{background:linear-gradient(180deg,rgba(6,18,24,0.95),rgba(10,26,34,0.95)) !important;border-color:rgba(0,200,220,.18) !important;box-shadow:0 12px 28px rgba(0,0,0,.55),0 0 0 1px rgba(0,200,220,.15) inset !important}html[data-unlimited-theme="cyber"]{background:linear-gradient(180deg,rgba(26,12,42,0.9),rgba(18,6,27,0.92)) !important;border-color:rgba(255,0,170,.28) !important;box-shadow:0 12px 28px rgba(0,0,0,.6),0 0 0 1px rgba(0,255,255,.18) inset !important}html[data-unlimited-theme="light"]{color:#2a2a2e}html[data-unlimited-theme="dark"]{color:#e8eaf0}html[data-unlimited-theme="darktide"]{color:#d8f7ff}html[data-unlimited-theme="cyber"]{color:#f2e9ff}.parchment .story em,.parchment .story i{opacity:.95}html[data-unlimited-theme="dark"] .parchment .story em,html[data-unlimited-theme="dark"] .parchment .story i{color:#ffd68a}html[data-unlimited-theme="darktide"] .parchment .story em,html[data-unlimited-theme="darktide"] .parchment .story i{color:#87f7ff}html[data-unlimited-theme="cyber"] .parchment .story em,html[data-unlimited-theme="cyber"] .parchment .story i{color:#ff70f0}
/*! tailwindcss v4.1.12 | MIT License | https://tailwindcss.com */.parchment[data-v-e0fa60ea]{position:relative;background:#faf8f5;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.65),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.5),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.04),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.01 0.03"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23f)"/></svg>');border:1px solid rgba(160,140,120,0.25);border-radius:12px;padding:16px 18px;box-shadow:0 8px 24px rgba(0,0,0,0.12),0 2px 1px rgba(255,255,255,0.8) inset,0 0 0 2px rgba(160,140,120,0.15),inset 0 0 85px rgba(160,140,120,0.08);outline:1px solid rgba(255,255,255,0.3);outline-offset:-2px;clip-path:path('M0,0 Hcalc(100% - 24px) Q100%,0 100%,24 V100 H0 Z')}html[data-unlimited-theme='parchment']{background:#f5f2e9;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.45),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.3),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.08),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="parchment-noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.02 0.06"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23parchment-noise)"/></svg>');border-color:rgba(120,90,50,0.45);box-shadow:0 14px 36px rgba(0,0,0,0.38),0 2px 1px rgba(255,255,255,0.5) inset,0 0 0 2px rgba(120,90,50,0.45),inset 0 0 85px rgba(120,90,50,0.28)}html[data-unlimited-theme='unl-night']{background:#24282e;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.06),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.04),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.32),transparent 42%);border-color:rgba(255,255,255,0.14);box-shadow:0 12px 28px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.06) inset,inset 0 0 65px rgba(255,255,255,0.04)}html[data-unlimited-theme='unl-night']{background:#3a4250;color:#e6e9ee;border-color:#6c7a90}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#3a4250,#303742);color:#e6e9ee;border-color:rgba(255,255,255,0.22)}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#465064,#3a4250);color:#fff;border-color:rgba(255,255,255,0.32)}.parchment[data-v-e0fa60ea]:after{left:auto;right:0;top:0;width:0;height:0;border-left:24px solid transparent;border-bottom:24px solid rgba(0,0,0,0.15);border-top:none;background:none;border-radius:0;filter:blur(0.6px)}.parchment .corner-fold[data-v-e0fa60ea]{display:none}.parchment .tear[data-v-e0fa60ea]{position:absolute;left:8px;right:8px;bottom:-6px;height:14px;pointer-events:none;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="24" viewBox="0 0 600 24"><path d="M0,12 C40,6 60,18 100,12 C140,6 160,18 200,12 C240,6 260,18 300,12 C340,6 360,18 400,12 C440,6 460,18 500,12 C540,6 560,18 600,12 L600,24 L0,24 Z" fill="rgba(0,0,0,0.18)"/></svg>') repeat-x left/600px 24px;filter:blur(0.4px)}.parchment[data-v-e0fa60ea]:before,.parchment[data-v-e0fa60ea]:after{content:'';position:absolute;pointer-events:none}.parchment[data-v-e0fa60ea]:before{left:0;right:0;top:0;height:12px;background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0));border-top-left-radius:12px;border-top-right-radius:12px}.parchment[data-v-e0fa60ea]:after{left:0;right:0;bottom:0;height:12px;background:linear-gradient(0deg,rgba(0,0,0,0.16),rgba(0,0,0,0));border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tabs[data-v-e0fa60ea]{display:flex;gap:6px;margin-bottom:10px;overflow-x:auto;-webkit-overflow-scrolling:touch}.tab[data-v-e0fa60ea]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.5);background:linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 2px 4px rgba(0,0,0,0.12)}@media (max-width:768px){.page[data-v-e0fa60ea]{padding:8px}.parchment[data-v-e0fa60ea]{padding:12px 12px}.tab[data-v-e0fa60ea]{padding:6px 10px 6px 14px;font-size:12px}.head[data-v-e0fa60ea]{font-size:18px}}.tab[data-v-e0fa60ea]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.35);background:linear-gradient(180deg,#fdfbf7,#f5f0e8);color:#5a4a3a;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 2px 3px rgba(0,0,0,0.08);transition:all 0.2s ease}.tab[data-v-e0fa60ea]:hover{background:linear-gradient(180deg,#fffefa,#f8f3eb);transform:translateY(-1px)}.tab[data-v-e0fa60ea]:before{content:'';position:absolute;left:8px;top:50%;transform:translateY(-50%);width:8px;height:8px;background:radial-gradient(circle at center,#b8965f 0%,#8a6b3f 80%);border-radius:50%;box-shadow:0 0 0 2px #fdfbf7 inset,0 0 0 3px rgba(120,90,50,0.25) inset}.tab.a[data-v-e0fa60ea]{background:linear-gradient(180deg,#fff8eb,#f5e8d3);border-color:rgba(120,90,50,0.55);color:#4a3a2a;box-shadow:0 1px 0 rgba(255,255,255,0.9) inset,0 2px 4px rgba(0,0,0,0.1),0 0 0 2px rgba(212,196,160,0.15)}.head[data-v-e0fa60ea]{font-family:'Satisfy','Cinzel','STKaiti','KaiTi',serif;letter-spacing:0.06em;margin-bottom:8px;font-size:20px;color:#3b2f2f;text-shadow:0 1px 0 rgba(255,255,255,0.8),0 2px 0 rgba(0,0,0,0.08);display:inline-flex;align-items:center;gap:8px}.head[data-v-e0fa60ea]:after{content:'';display:inline-block;width:60px;height:14px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28" viewBox="0 0 120 28"><path d="M2,14 Q20,8 38,14 T74,14 T110,14" stroke="rgba(120,90,50,0.7)" stroke-width="2" fill="none" stroke-linecap="round"/></svg>') center/contain no-repeat}.btn[data-v-e0fa60ea]{padding:8px 12px;border-radius:8px;border:1px solid rgba(120,90,50,0.5);background:radial-gradient(circle at 16px 50%,rgba(120,90,50,0.25),rgba(120,90,50,0) 30px),linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;cursor:pointer;font-weight:700;letter-spacing:0.03em;box-shadow:0 2px 0 rgba(255,255,255,0.5) inset,0 2px 6px rgba(0,0,0,0.12)}.btn[data-v-e0fa60ea]:before{content:'';display:inline-block;vertical-align:middle;margin-right:8px;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#b03030,#7a2121 65%);box-shadow:0 0 0 2px #f7edd0 inset,0 0 0 3px rgba(120,90,50,0.35) inset}.kv[data-v-e0fa60ea]{display:grid;grid-template-columns:110px 1fr;gap:6px}.k[data-v-e0fa60ea]{color:#6b4f3e;font-weight:600}.v[data-v-e0fa60ea]{color:#3b2f2f}.bar[data-v-e0fa60ea]{height:10px;border:1px solid rgba(120,90,50,0.55);border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.7),rgba(255,255,255,0.4));overflow:hidden}.bar .val[data-v-e0fa60ea]{height:100%;background:linear-gradient(90deg,#d6b768,#a88844);box-shadow:0 0 6px rgba(168,136,68,0.7)}.chips[data-v-e0fa60ea]{display:flex;flex-wrap:wrap;gap:6px}.chip[data-v-e0fa60ea]{padding:2px 8px;border-radius:999px;background:rgba(154,123,79,0.15);border:1px solid rgba(120,90,50,0.35);font-size:12px}.label-strong[data-v-e0fa60ea]{color:#7a4f2f;font-weight:900;background:rgba(122,79,47,0.08);border-left:3px solid rgba(122,79,47,0.5);padding:0 4px;border-radius:2px}.status-root[data-v-e0fa60ea]{color:#3b2f2f;font-family:'Cinzel','Songti SC','Times New Roman',serif}.loading[data-v-e0fa60ea],.error[data-v-e0fa60ea]{padding:10px;color:#8b5e34}.sec[data-v-e0fa60ea]{background:transparent;border:none;margin-bottom:8px}.sec-h[data-v-e0fa60ea]{font-weight:700;font-size:15px;padding:4px 0;color:#3b2f2f}.sec-c[data-v-e0fa60ea]{padding:6px 0 8px}.prop[data-v-e0fa60ea]{background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px;padding:8px;margin-bottom:6px;box-shadow:inset 0 0 15px rgba(120,90,50,0.08)}.pname[data-v-e0fa60ea]{color:#6b4f3e;font-size:12px;margin-bottom:4px}.pval[data-v-e0fa60ea]{font-size:13px;font-weight:700;color:#3b2f2f;overflow-wrap:anywhere}.coin[data-v-e0fa60ea]{color:#7a5d2f}.grid2[data-v-e0fa60ea]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:6px}.grid3[data-v-e0fa60ea]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:6px}.row.between[data-v-e0fa60ea]{display:flex;justify-content:space-between;align-items:center;gap:8px;min-width:0}.bar[data-v-e0fa60ea]{height:8px;border:1px solid rgba(120,90,50,0.5);border-radius:999px;background:rgba(255,255,255,0.6);overflow:hidden;margin-top:6px}.bar .val[data-v-e0fa60ea]{height:100%;width:0%;transition:width 0.3s ease;background:linear-gradient(90deg,#caa96e,#9a7b4f);box-shadow:0 0 6px rgba(154,123,79,0.6)}.cards[data-v-e0fa60ea]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:8px}.card[data-v-e0fa60ea]{background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px;padding:8px;box-shadow:inset 0 0 15px rgba(120,90,50,0.08)}.card .sub[data-v-e0fa60ea]{color:#6b4f3e;font-size:12px;margin-left:6px}.empty[data-v-e0fa60ea]{font-size:12px;color:#6b4f3e;font-style:italic;padding:6px 0}.badge[data-v-e0fa60ea]{display:inline-block;font-size:10px;padding:2px 6px;border-radius:999px;background:rgba(154,123,79,0.15);border:1px solid rgba(120,90,50,0.35);margin-left:6px;color:#3b2f2f}.badge-prog[data-v-e0fa60ea]{background:rgba(202,169,110,0.15);border-color:rgba(202,169,110,0.45);color:#7a5d2f}.q-card[data-v-e0fa60ea]{background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px;padding:8px;margin-top:6px;box-shadow:inset 0 0 15px rgba(120,90,50,0.08)}.q-title[data-v-e0fa60ea]{font-weight:700;margin-bottom:6px;color:#3b2f2f}.kv[data-v-e0fa60ea]{display:grid;grid-template-columns:90px 1fr;gap:6px;font-size:12px}.kv .k[data-v-e0fa60ea]{color:#6b4f3e}.kv .v[data-v-e0fa60ea]{color:#3b2f2f}.fold[data-v-e0fa60ea]{background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px;padding:6px;margin-bottom:6px}.fold-h[data-v-e0fa60ea]{cursor:pointer;font-weight:800;color:#3b2f2f;position:relative;padding-left:14px}.fold-h[data-v-e0fa60ea]::before{content:'▸';position:absolute;left:0;top:0;transform:translateY(1px)}.fold[open] .fold-h[data-v-e0fa60ea]::before{content:'▾'}.list[data-v-e0fa60ea]{display:grid;grid-template-columns:1fr;gap:6px}.li[data-v-e0fa60ea]{display:flex;justify-content:space-between;align-items:center;padding:8px;background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px;box-shadow:inset 0 0 15px rgba(120,90,50,0.08);cursor:pointer}.li[data-v-e0fa60ea]:hover{background:rgba(255,255,255,0.7)}.li .name[data-v-e0fa60ea]{font-weight:700;color:#3b2f2f}.li .meta[data-v-e0fa60ea]{color:#6b4f3e;font-size:12px}.li .meta .sep[data-v-e0fa60ea]{margin:0 4px;color:#b08b5f}.subtabs[data-v-e0fa60ea]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:8px}.subtab[data-v-e0fa60ea]{padding:4px 10px;border-radius:8px;border:1px solid rgba(120,90,50,0.35);background:rgba(255,255,255,0.6);color:#3b2f2f;cursor:pointer;font-weight:700}.subtab.a[data-v-e0fa60ea]{background:rgba(255,255,255,0.85);border-color:rgba(120,90,50,0.6)}.q-list[data-v-e0fa60ea]{display:grid;grid-template-columns:1fr;gap:6px}.q-row[data-v-e0fa60ea]{display:flex;align-items:center;justify-content:space-between;padding:8px;background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px}.q-name[data-v-e0fa60ea]{font-weight:800;color:#3b2f2f}.q-meta[data-v-e0fa60ea]{color:#6b4f3e;font-size:12px}.q-meta .sep[data-v-e0fa60ea]{margin:0 4px;color:#b08b5f}.inf-modal-mask[data-v-e0fa60ea]{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:10000;overflow-y:auto;padding:20px 0}.inf-modal[data-v-e0fa60ea]{width:min(820px,94vw);max-height:calc(100vh - 40px);background:#fffdf6;border:1px solid rgba(120,90,50,0.35);border-radius:16px;box-shadow:0 14px 40px rgba(0,0,0,0.28);display:flex;flex-direction:column;overflow:hidden;color:#3b2f2f;margin:auto}.inf-modal.tall[data-v-e0fa60ea]{max-height:calc(100vh - 40px) !important}.inf-modal-head[data-v-e0fa60ea]{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid rgba(120,90,50,0.18);background:linear-gradient(180deg,rgba(255,255,255,0.96),rgba(255,255,255,0.78))}.inf-modal-head .left[data-v-e0fa60ea]{display:flex;align-items:center;gap:10px}.inf-modal-head .back[data-v-e0fa60ea]{background:rgba(154,123,79,0.15);border:1px solid rgba(120,90,50,0.35);color:#3b2f2f;border-radius:6px;padding:2px 8px;cursor:pointer}.inf-icon[data-v-e0fa60ea]{width:38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 30% 30%,#e9d8a6,#c9a66b);box-shadow:inset 0 0 8px rgba(0,0,0,0.12)}.inf-modal-head .x[data-v-e0fa60ea]{background:transparent;border:none;font-size:18px;cursor:pointer;color:#6b4f3e}.inf-metrics[data-v-e0fa60ea]{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;padding:10px 14px 0}.inf-metric[data-v-e0fa60ea]{background:rgba(255,255,255,0.9);border:1px solid rgba(120,90,50,0.22);border-radius:10px;padding:10px;text-align:center}.inf-sections[data-v-e0fa60ea]{padding:10px 14px 14px;overflow-y:auto;flex:1;max-height:calc(90vh - 160px)}.inf-nav[data-v-e0fa60ea]{position:sticky;top:0;z-index:1;display:flex;gap:6px;align-items:center;padding:6px 14px;background:#fffdf6;border-bottom:1px solid rgba(120,90,50,0.18)}.inf-nav .inav[data-v-e0fa60ea]{padding:4px 8px;border:1px solid rgba(120,90,50,0.3);background:rgba(255,255,255,0.9);border-radius:999px;cursor:pointer}.inf-nav .inav.ghost[data-v-e0fa60ea]{background:transparent}.inf-nav .sp[data-v-e0fa60ea]{flex:1 1 auto}.inf-section[data-v-e0fa60ea]{background:rgba(255,255,255,0.92);border:1px solid rgba(120,90,50,0.22);border-radius:10px;padding:10px;margin-bottom:10px}.inf-section-title[data-v-e0fa60ea]{font-weight:900;margin-bottom:6px;color:#3b2f2f}.inf-desc p[data-v-e0fa60ea]{margin:0 0 6px;line-height:1.7}.inf-dl .inf-row[data-v-e0fa60ea]{display:grid;grid-template-columns:140px 1fr;gap:6px 12px;padding:6px 0;border-bottom:1px dotted rgba(120,90,50,0.25)}.inf-dl .inf-row[data-v-e0fa60ea]:last-child{border-bottom:none}.facts-grid[data-v-e0fa60ea]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.fact[data-v-e0fa60ea]{background:rgba(255,255,255,0.92);border:1px solid rgba(120,90,50,0.22);border-radius:10px;padding:10px}.fact .k[data-v-e0fa60ea]{color:#6b4f3e;font-size:12px;margin-bottom:4px}.fact .v[data-v-e0fa60ea]{font-weight:900;color:#3b2f2f}.bonus-groups[data-v-e0fa60ea]{display:grid;grid-template-columns:1fr;gap:8px}.bonus-group[data-v-e0fa60ea]{background:rgba(255,255,255,0.92);border:1px solid rgba(120,90,50,0.22);border-radius:10px;padding:8px}.bg-head[data-v-e0fa60ea]{font-weight:900;color:#3b2f2f;margin-bottom:6px}.bg-body[data-v-e0fa60ea]{display:flex;flex-wrap:wrap;gap:6px}.chip.strong[data-v-e0fa60ea]{background:rgba(154,123,79,0.2);border-color:rgba(120,90,50,0.5)}.chip.magic[data-v-e0fa60ea]{background:rgba(120,90,180,0.15);border-color:rgba(120,90,180,0.4)}.bonus-bar[data-v-e0fa60ea]{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border:1px solid rgba(120,90,50,0.35);border-radius:8px;background:rgba(255,255,255,0.9)}.bonus-bar .k[data-v-e0fa60ea]{font-weight:800;color:#3b2f2f}.bonus-bar .b[data-v-e0fa60ea]{width:120px;height:6px;border:1px solid rgba(120,90,50,0.4);border-radius:999px;background:rgba(255,255,255,0.7);overflow:hidden}.bonus-bar .b>i[data-v-e0fa60ea]{display:block;height:100%;background:linear-gradient(90deg,#caa96e,#9a7b4f);width:0%}@media (max-width:768px){.grid2[data-v-e0fa60ea]{grid-template-columns:1fr}.grid3[data-v-e0fa60ea]{grid-template-columns:1fr}.cards[data-v-e0fa60ea]{grid-template-columns:1fr}.q-list[data-v-e0fa60ea],.list[data-v-e0fa60ea]{grid-template-columns:1fr}.inf-modal[data-v-e0fa60ea]{width:96vw;max-height:86vh}.inf-metrics[data-v-e0fa60ea]{grid-template-columns:repeat(2,1fr)}.facts-grid[data-v-e0fa60ea]{grid-template-columns:1fr}.inf-dl .inf-row[data-v-e0fa60ea]{grid-template-columns:1fr}.row.between[data-v-e0fa60ea]{flex-wrap:wrap}}


/*! tailwindcss v4.1.12 | MIT License | https://tailwindcss.com */.parchment[data-v-431a7312]{position:relative;background:#faf8f5;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.65),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.5),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.04),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.01 0.03"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23f)"/></svg>');border:1px solid rgba(160,140,120,0.25);border-radius:12px;padding:16px 18px;box-shadow:0 8px 24px rgba(0,0,0,0.12),0 2px 1px rgba(255,255,255,0.8) inset,0 0 0 2px rgba(160,140,120,0.15),inset 0 0 85px rgba(160,140,120,0.08);outline:1px solid rgba(255,255,255,0.3);outline-offset:-2px;clip-path:path('M0,0 Hcalc(100% - 24px) Q100%,0 100%,24 V100 H0 Z')}html[data-unlimited-theme='parchment']{background:#f5f2e9;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.45),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.3),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.08),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="parchment-noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.02 0.06"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23parchment-noise)"/></svg>');border-color:rgba(120,90,50,0.45);box-shadow:0 14px 36px rgba(0,0,0,0.38),0 2px 1px rgba(255,255,255,0.5) inset,0 0 0 2px rgba(120,90,50,0.45),inset 0 0 85px rgba(120,90,50,0.28)}html[data-unlimited-theme='unl-night']{background:#24282e;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.06),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.04),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.32),transparent 42%);border-color:rgba(255,255,255,0.14);box-shadow:0 12px 28px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.06) inset,inset 0 0 65px rgba(255,255,255,0.04)}html[data-unlimited-theme='unl-night']{background:#3a4250;color:#e6e9ee;border-color:#6c7a90}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#3a4250,#303742);color:#e6e9ee;border-color:rgba(255,255,255,0.22)}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#465064,#3a4250);color:#fff;border-color:rgba(255,255,255,0.32)}.parchment[data-v-431a7312]:after{left:auto;right:0;top:0;width:0;height:0;border-left:24px solid transparent;border-bottom:24px solid rgba(0,0,0,0.15);border-top:none;background:none;border-radius:0;filter:blur(0.6px)}.parchment .corner-fold[data-v-431a7312]{display:none}.parchment .tear[data-v-431a7312]{position:absolute;left:8px;right:8px;bottom:-6px;height:14px;pointer-events:none;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="24" viewBox="0 0 600 24"><path d="M0,12 C40,6 60,18 100,12 C140,6 160,18 200,12 C240,6 260,18 300,12 C340,6 360,18 400,12 C440,6 460,18 500,12 C540,6 560,18 600,12 L600,24 L0,24 Z" fill="rgba(0,0,0,0.18)"/></svg>') repeat-x left/600px 24px;filter:blur(0.4px)}.parchment[data-v-431a7312]:before,.parchment[data-v-431a7312]:after{content:'';position:absolute;pointer-events:none}.parchment[data-v-431a7312]:before{left:0;right:0;top:0;height:12px;background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0));border-top-left-radius:12px;border-top-right-radius:12px}.parchment[data-v-431a7312]:after{left:0;right:0;bottom:0;height:12px;background:linear-gradient(0deg,rgba(0,0,0,0.16),rgba(0,0,0,0));border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tabs[data-v-431a7312]{display:flex;gap:6px;margin-bottom:10px;overflow-x:auto;-webkit-overflow-scrolling:touch}.tab[data-v-431a7312]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.5);background:linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 2px 4px rgba(0,0,0,0.12)}@media (max-width:768px){.page[data-v-431a7312]{padding:8px}.parchment[data-v-431a7312]{padding:12px 12px}.tab[data-v-431a7312]{padding:6px 10px 6px 14px;font-size:12px}.head[data-v-431a7312]{font-size:18px}}.tab[data-v-431a7312]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.35);background:linear-gradient(180deg,#fdfbf7,#f5f0e8);color:#5a4a3a;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 2px 3px rgba(0,0,0,0.08);transition:all 0.2s ease}.tab[data-v-431a7312]:hover{background:linear-gradient(180deg,#fffefa,#f8f3eb);transform:translateY(-1px)}.tab[data-v-431a7312]:before{content:'';position:absolute;left:8px;top:50%;transform:translateY(-50%);width:8px;height:8px;background:radial-gradient(circle at center,#b8965f 0%,#8a6b3f 80%);border-radius:50%;box-shadow:0 0 0 2px #fdfbf7 inset,0 0 0 3px rgba(120,90,50,0.25) inset}.tab.a[data-v-431a7312]{background:linear-gradient(180deg,#fff8eb,#f5e8d3);border-color:rgba(120,90,50,0.55);color:#4a3a2a;box-shadow:0 1px 0 rgba(255,255,255,0.9) inset,0 2px 4px rgba(0,0,0,0.1),0 0 0 2px rgba(212,196,160,0.15)}.head[data-v-431a7312]{font-family:'Satisfy','Cinzel','STKaiti','KaiTi',serif;letter-spacing:0.06em;margin-bottom:8px;font-size:20px;color:#3b2f2f;text-shadow:0 1px 0 rgba(255,255,255,0.8),0 2px 0 rgba(0,0,0,0.08);display:inline-flex;align-items:center;gap:8px}.head[data-v-431a7312]:after{content:'';display:inline-block;width:60px;height:14px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28" viewBox="0 0 120 28"><path d="M2,14 Q20,8 38,14 T74,14 T110,14" stroke="rgba(120,90,50,0.7)" stroke-width="2" fill="none" stroke-linecap="round"/></svg>') center/contain no-repeat}.btn[data-v-431a7312]{padding:8px 12px;border-radius:8px;border:1px solid rgba(120,90,50,0.5);background:radial-gradient(circle at 16px 50%,rgba(120,90,50,0.25),rgba(120,90,50,0) 30px),linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;cursor:pointer;font-weight:700;letter-spacing:0.03em;box-shadow:0 2px 0 rgba(255,255,255,0.5) inset,0 2px 6px rgba(0,0,0,0.12)}.btn[data-v-431a7312]:before{content:'';display:inline-block;vertical-align:middle;margin-right:8px;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#b03030,#7a2121 65%);box-shadow:0 0 0 2px #f7edd0 inset,0 0 0 3px rgba(120,90,50,0.35) inset}.kv[data-v-431a7312]{display:grid;grid-template-columns:110px 1fr;gap:6px}.k[data-v-431a7312]{color:#6b4f3e;font-weight:600}.v[data-v-431a7312]{color:#3b2f2f}.bar[data-v-431a7312]{height:10px;border:1px solid rgba(120,90,50,0.55);border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.7),rgba(255,255,255,0.4));overflow:hidden}.bar .val[data-v-431a7312]{height:100%;background:linear-gradient(90deg,#d6b768,#a88844);box-shadow:0 0 6px rgba(168,136,68,0.7)}.chips[data-v-431a7312]{display:flex;flex-wrap:wrap;gap:6px}.chip[data-v-431a7312]{padding:2px 8px;border-radius:999px;background:rgba(154,123,79,0.15);border:1px solid rgba(120,90,50,0.35);font-size:12px}.label-strong[data-v-431a7312]{color:#7a4f2f;font-weight:900;background:rgba(122,79,47,0.08);border-left:3px solid rgba(122,79,47,0.5);padding:0 4px;border-radius:2px}.page[data-v-431a7312]{padding:10px}

/*! tailwindcss v4.1.12 | MIT License | https://tailwindcss.com */.parchment[data-v-011f273d]{position:relative;background:#faf8f5;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.65),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.5),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.04),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.01 0.03"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23f)"/></svg>');border:1px solid rgba(160,140,120,0.25);border-radius:12px;padding:16px 18px;box-shadow:0 8px 24px rgba(0,0,0,0.12),0 2px 1px rgba(255,255,255,0.8) inset,0 0 0 2px rgba(160,140,120,0.15),inset 0 0 85px rgba(160,140,120,0.08);outline:1px solid rgba(255,255,255,0.3);outline-offset:-2px;clip-path:path('M0,0 Hcalc(100% - 24px) Q100%,0 100%,24 V100 H0 Z')}html[data-unlimited-theme='parchment']{background:#f5f2e9;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.45),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.3),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.08),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="parchment-noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.02 0.06"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23parchment-noise)"/></svg>');border-color:rgba(120,90,50,0.45);box-shadow:0 14px 36px rgba(0,0,0,0.38),0 2px 1px rgba(255,255,255,0.5) inset,0 0 0 2px rgba(120,90,50,0.45),inset 0 0 85px rgba(120,90,50,0.28)}html[data-unlimited-theme='unl-night']{background:#24282e;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.06),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.04),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.32),transparent 42%);border-color:rgba(255,255,255,0.14);box-shadow:0 12px 28px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.06) inset,inset 0 0 65px rgba(255,255,255,0.04)}html[data-unlimited-theme='unl-night']{background:#3a4250;color:#e6e9ee;border-color:#6c7a90}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#3a4250,#303742);color:#e6e9ee;border-color:rgba(255,255,255,0.22)}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#465064,#3a4250);color:#fff;border-color:rgba(255,255,255,0.32)}.parchment[data-v-011f273d]:after{left:auto;right:0;top:0;width:0;height:0;border-left:24px solid transparent;border-bottom:24px solid rgba(0,0,0,0.15);border-top:none;background:none;border-radius:0;filter:blur(0.6px)}.parchment .corner-fold[data-v-011f273d]{display:none}.parchment .tear[data-v-011f273d]{position:absolute;left:8px;right:8px;bottom:-6px;height:14px;pointer-events:none;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="24" viewBox="0 0 600 24"><path d="M0,12 C40,6 60,18 100,12 C140,6 160,18 200,12 C240,6 260,18 300,12 C340,6 360,18 400,12 C440,6 460,18 500,12 C540,6 560,18 600,12 L600,24 L0,24 Z" fill="rgba(0,0,0,0.18)"/></svg>') repeat-x left/600px 24px;filter:blur(0.4px)}.parchment[data-v-011f273d]:before,.parchment[data-v-011f273d]:after{content:'';position:absolute;pointer-events:none}.parchment[data-v-011f273d]:before{left:0;right:0;top:0;height:12px;background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0));border-top-left-radius:12px;border-top-right-radius:12px}.parchment[data-v-011f273d]:after{left:0;right:0;bottom:0;height:12px;background:linear-gradient(0deg,rgba(0,0,0,0.16),rgba(0,0,0,0));border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tabs[data-v-011f273d]{display:flex;gap:6px;margin-bottom:10px;overflow-x:auto;-webkit-overflow-scrolling:touch}.tab[data-v-011f273d]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.5);background:linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 2px 4px rgba(0,0,0,0.12)}@media (max-width:768px){.page[data-v-011f273d]{padding:8px}.parchment[data-v-011f273d]{padding:12px 12px}.tab[data-v-011f273d]{padding:6px 10px 6px 14px;font-size:12px}.head[data-v-011f273d]{font-size:18px}}.tab[data-v-011f273d]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.35);background:linear-gradient(180deg,#fdfbf7,#f5f0e8);color:#5a4a3a;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 2px 3px rgba(0,0,0,0.08);transition:all 0.2s ease}.tab[data-v-011f273d]:hover{background:linear-gradient(180deg,#fffefa,#f8f3eb);transform:translateY(-1px)}.tab[data-v-011f273d]:before{content:'';position:absolute;left:8px;top:50%;transform:translateY(-50%);width:8px;height:8px;background:radial-gradient(circle at center,#b8965f 0%,#8a6b3f 80%);border-radius:50%;box-shadow:0 0 0 2px #fdfbf7 inset,0 0 0 3px rgba(120,90,50,0.25) inset}.tab.a[data-v-011f273d]{background:linear-gradient(180deg,#fff8eb,#f5e8d3);border-color:rgba(120,90,50,0.55);color:#4a3a2a;box-shadow:0 1px 0 rgba(255,255,255,0.9) inset,0 2px 4px rgba(0,0,0,0.1),0 0 0 2px rgba(212,196,160,0.15)}.head[data-v-011f273d]{font-family:'Satisfy','Cinzel','STKaiti','KaiTi',serif;letter-spacing:0.06em;margin-bottom:8px;font-size:20px;color:#3b2f2f;text-shadow:0 1px 0 rgba(255,255,255,0.8),0 2px 0 rgba(0,0,0,0.08);display:inline-flex;align-items:center;gap:8px}.head[data-v-011f273d]:after{content:'';display:inline-block;width:60px;height:14px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28" viewBox="0 0 120 28"><path d="M2,14 Q20,8 38,14 T74,14 T110,14" stroke="rgba(120,90,50,0.7)" stroke-width="2" fill="none" stroke-linecap="round"/></svg>') center/contain no-repeat}.btn[data-v-011f273d]{padding:8px 12px;border-radius:8px;border:1px solid rgba(120,90,50,0.5);background:radial-gradient(circle at 16px 50%,rgba(120,90,50,0.25),rgba(120,90,50,0) 30px),linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;cursor:pointer;font-weight:700;letter-spacing:0.03em;box-shadow:0 2px 0 rgba(255,255,255,0.5) inset,0 2px 6px rgba(0,0,0,0.12)}.btn[data-v-011f273d]:before{content:'';display:inline-block;vertical-align:middle;margin-right:8px;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#b03030,#7a2121 65%);box-shadow:0 0 0 2px #f7edd0 inset,0 0 0 3px rgba(120,90,50,0.35) inset}.kv[data-v-011f273d]{display:grid;grid-template-columns:110px 1fr;gap:6px}.k[data-v-011f273d]{color:#6b4f3e;font-weight:600}.v[data-v-011f273d]{color:#3b2f2f}.bar[data-v-011f273d]{height:10px;border:1px solid rgba(120,90,50,0.55);border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.7),rgba(255,255,255,0.4));overflow:hidden}.bar .val[data-v-011f273d]{height:100%;background:linear-gradient(90deg,#d6b768,#a88844);box-shadow:0 0 6px rgba(168,136,68,0.7)}.chips[data-v-011f273d]{display:flex;flex-wrap:wrap;gap:6px}.chip[data-v-011f273d]{padding:2px 8px;border-radius:999px;background:rgba(154,123,79,0.15);border:1px solid rgba(120,90,50,0.35);font-size:12px}.label-strong[data-v-011f273d]{color:#7a4f2f;font-weight:900;background:rgba(122,79,47,0.08);border-left:3px solid rgba(122,79,47,0.5);padding:0 4px;border-radius:2px}.page[data-v-011f273d]{padding:10px}.story[data-v-011f273d]{white-space:pre-wrap;line-height:1.9;font-size:14px}.opts-card[data-v-011f273d]{margin-top:10px;background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:10px;box-shadow:inset 0 0 15px rgba(120,90,50,0.08);overflow:hidden}.opts-summary[data-v-011f273d]{list-style:none}.opts-summary[data-v-011f273d]::-webkit-details-marker{display:none}.opt-toggle[data-v-011f273d]{padding:8px 10px;text-align:center;font-weight:800;color:#3b2f2f;background:linear-gradient(180deg,rgba(255,255,255,0.96),rgba(255,255,255,0.78));border-bottom:1px solid rgba(120,90,50,0.18)}.opt-btns[data-v-011f273d]{display:flex;flex-direction:column;gap:6px;padding:8px}.opt-btn[data-v-011f273d]{display:flex;align-items:center;gap:8px;padding:9px 12px;border-radius:8px;cursor:pointer;background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);color:#3b2f2f;text-align:left;font-weight:700;transition:background 0.2s ease,transform 0.2s ease,box-shadow 0.2s ease}.opt-btn .dot[data-v-011f273d]{width:10px;height:10px;border-radius:50%;flex:0 0 auto;background:radial-gradient(circle at 35% 35%,#9a6b3f,#6d4a2c 70%);box-shadow:0 0 0 2px #f7edd0 inset,0 0 0 3px rgba(120,90,50,0.35) inset}.opt-btn[data-v-011f273d]:hover{background:rgba(255,255,255,0.8);transform:translateY(-1px);box-shadow:0 1px 6px rgba(0,0,0,0.08)}.opt-btn.active[data-v-011f273d]{background:rgba(255,255,255,0.9);border-color:rgba(120,90,50,0.6)}.opt-btn .txt[data-v-011f273d]{white-space:normal;line-height:1.6}.missions[data-v-011f273d]{padding:4px 0;display:grid;grid-template-columns:1fr;gap:8px}.mission[data-v-011f273d]{background:rgba(255,255,255,0.65);border:1px solid rgba(120,90,50,0.28);border-radius:8px;padding:8px}.mission.sel[data-v-011f273d]{border-color:rgba(120,90,50,0.6);background:rgba(255,255,255,0.85)}.m-title[data-v-011f273d]{font-weight:900;color:#3b2f2f;margin-bottom:6px}.m-body[data-v-011f273d]{color:#4a3a3a;line-height:1.7;white-space:pre-wrap}.m-actions[data-v-011f273d]{display:flex;gap:6px;margin-top:8px}.market[data-v-011f273d]{padding:4px 0}.market-tabs[data-v-011f273d]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:8px}.market-tab[data-v-011f273d]{padding:4px 10px;border-radius:8px;border:1px solid rgba(120,90,50,0.35);background:rgba(255,255,255,0.6);color:#3b2f2f;cursor:pointer;font-weight:700}.market-tab.a[data-v-011f273d]{background:rgba(255,255,255,0.85);border-color:rgba(120,90,50,0.6)}.market-items[data-v-011f273d]{display:grid;grid-template-columns:1fr;gap:6px}.item[data-v-011f273d]{padding:8px;background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px;transition:all 0.2s ease}.item[data-v-011f273d]:hover{background:rgba(255,255,255,0.65)}.item.sel[data-v-011f273d]{background:rgba(255,248,235,0.9);border-color:rgba(120,90,50,0.6);box-shadow:0 0 0 2px rgba(212,196,160,0.2)}.item.sel[data-v-011f273d]{background:rgba(255,255,255,0.8);border-color:rgba(120,90,50,0.6)}.i-name[data-v-011f273d]{font-weight:900;color:#3b2f2f}.i-badges[data-v-011f273d]{display:flex;gap:6px}.i-attrs[data-v-011f273d]{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.qty[data-v-011f273d]{display:flex;align-items:center;gap:6px;margin-top:6px}.qty .a-btn[data-v-011f273d]{padding:2px 8px;border-radius:6px;border:1px solid rgba(120,90,50,0.35);background:rgba(255,255,255,0.7);color:#3b2f2f;cursor:pointer}.qty .a-input[data-v-011f273d]{width:60px;height:28px;text-align:center;border:1px solid rgba(120,90,50,0.35);border-radius:6px;background:rgba(255,255,255,0.7)}.market-footer[data-v-011f273d]{display:flex;align-items:center;justify-content:space-between;margin-top:8px}.sum[data-v-011f273d]{color:#6b4f3e}.sum .sep[data-v-011f273d]{margin:0 6px;color:#b08b5f}.sum .warn[data-v-011f273d]{color:#a33f3f}.warn-msg[data-v-011f273d]{color:#a33f3f;font-size:12px;margin-left:8px}button.btn[disabled][data-v-011f273d],button.btn[data-v-011f273d]:disabled{opacity:0.5;cursor:not-allowed;filter:grayscale(0.2)}.row.between[data-v-011f273d]{display:flex;justify-content:space-between;align-items:center;gap:8px}.item .row[data-v-011f273d]{gap:8px}.i-name[data-v-011f273d]{flex:1 1 auto;min-width:0;overflow-wrap:anywhere}.i-badges[data-v-011f273d]{flex-wrap:wrap;justify-content:flex-end}.attr-panel[data-v-011f273d]{padding:6px 2px}.char-row[data-v-011f273d],.bl-row[data-v-011f273d]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:6px}.chip-btn[data-v-011f273d]{padding:4px 10px;border-radius:999px;border:1px solid rgba(120,90,50,0.35);background:rgba(255,255,255,0.6);color:#3b2f2f;font-weight:700;cursor:pointer}.chip-btn.a[data-v-011f273d]{background:rgba(255,255,255,0.85);border-color:rgba(120,90,50,0.6)}.attr-sum[data-v-011f273d]{margin-bottom:6px}.evo-section[data-v-011f273d]{background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px;padding:8px;margin-bottom:6px}.evo-title[data-v-011f273d]{font-weight:900;color:#3b2f2f;margin-bottom:6px}.evo-bar[data-v-011f273d]{position:relative;height:10px;border:1px solid rgba(120,90,50,0.45);border-radius:999px;background:rgba(255,255,255,0.7);overflow:hidden}.evo-fill[data-v-011f273d]{height:100%;background:linear-gradient(90deg,#caa96e,#9a7b4f);box-shadow:0 0 6px rgba(154,123,79,0.6);display:flex;align-items:center;justify-content:flex-end}.evo-text[data-v-011f273d]{font-size:10px;color:#3b2f2f;padding-right:6px}.evo-info[data-v-011f273d]{display:flex;justify-content:space-between;margin-top:6px;color:#6b4f3e;font-size:12px}.attr-grid[data-v-011f273d]{display:grid;grid-template-columns:1fr;gap:6px}.attr-row[data-v-011f273d]{background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.35);border-radius:8px;padding:8px;display:grid;grid-template-columns:110px 1fr auto;gap:8px;align-items:center}.a-name[data-v-011f273d]{font-weight:800;color:#3b2f2f;display:flex;align-items:center;gap:6px}.a-name .emo[data-v-011f273d]{font-size:16px}.a-base[data-v-011f273d]{color:#6b4f3e;font-size:12px}.a-ctrl[data-v-011f273d]{display:flex;align-items:center;gap:6px}.a-btn[data-v-011f273d]{padding:2px 8px;border-radius:6px;border:1px solid rgba(120,90,50,0.35);background:rgba(255,255,255,0.7);color:#3b2f2f;cursor:pointer}.a-input[data-v-011f273d]{width:60px;height:28px;text-align:center;border:1px solid rgba(120,90,50,0.35);border-radius:6px;background:rgba(255,255,255,0.7)}.gear[data-v-011f273d]{position:absolute;right:12px;top:12px;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.9);border:1px solid rgba(120,90,50,0.45);cursor:pointer;box-shadow:0 1px 3px rgba(0,0,0,0.18);z-index:10}.theme-toggle[data-v-011f273d]{position:absolute;right:48px;top:12px;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.9);border:1px solid rgba(120,90,50,0.45);cursor:pointer;box-shadow:0 1px 3px rgba(0,0,0,0.18);z-index:10}.gear-panel[data-v-011f273d]{position:absolute;right:12px;top:48px;background:#fffdf6;border:1px solid rgba(120,90,50,0.45);border-radius:10px;padding:10px;width:240px;box-shadow:0 14px 30px rgba(0,0,0,0.25);z-index:20}.gear-title[data-v-011f273d]{font-weight:900;color:#3b2f2f;margin-bottom:6px}.gear-opts[data-v-011f273d]{display:flex;gap:6px;flex-wrap:wrap}.gear-opt[data-v-011f273d]{padding:4px 10px;border-radius:999px;border:1px solid rgba(120,90,50,0.35);background:rgba(255,255,255,0.6);color:#3b2f2f;cursor:pointer;font-weight:700}.gear-opt.a[data-v-011f273d]{background:rgba(255,255,255,0.85);border-color:rgba(120,90,50,0.6)}.gear-ctl[data-v-011f273d]{display:inline-flex;align-items:center;gap:8px;padding:4px 8px;border:1px solid rgba(120,90,50,0.35);background:rgba(255,255,255,0.6);border-radius:8px}.gear-ctl .val[data-v-011f273d]{font-weight:700;color:#3b2f2f}.btn.small[data-v-011f273d]{padding:4px 8px;font-size:12px}[data-v-011f273d] .check-result{margin:8px 0}[data-v-011f273d] .cr-btn{display:inline-flex;align-items:center;gap:8px;padding:4px 12px;margin:2px 0;background:linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;border:1px solid rgba(120,90,50,0.35);border-radius:10px;cursor:pointer;-webkit-user-select:none;user-select:none;position:relative;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 2px 4px rgba(0,0,0,0.12)}[data-v-011f273d] .cr-btn.active{background:linear-gradient(180deg,#fff7dc,#f0e0b6);border-color:rgba(120,90,50,0.6)}[data-v-011f273d] .cr-ico{font-size:14px;filter:drop-shadow(0 1px 2px rgba(0,0,0,0.2))}[data-v-011f273d] .cr-label{font-size:12px;color:#3b2f2f;max-width:350px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;letter-spacing:0.3px}[data-v-011f273d] .cr-content{display:none;margin:8px 0 14px 8px;padding:10px 12px;background:rgba(255,255,255,0.55);border:1px solid rgba(120,90,50,0.28);border-radius:8px;box-shadow:inset 0 0 15px rgba(120,90,50,0.08);position:relative;overflow:hidden}[data-v-011f273d] .cr-content.show{display:block}[data-v-011f273d] .cr-content:before{content:'';position:absolute;left:0;top:0;width:3px;height:100%;background:linear-gradient(180deg,rgba(120,90,50,0.6),rgba(120,90,50,0.25));box-shadow:none}[data-v-011f273d] .content-line{padding:3px 0;font-family:'SF Mono','Monaco','Inconsolata','Fira Code',monospace;font-size:12px;color:#3b2f2f;white-space:pre-wrap}[data-v-011f273d] .content-line.first-line{font-weight:800;color:#3b2f2f;padding-bottom:6px;margin-bottom:6px;border-bottom:1px solid rgba(120,90,50,0.25);background:linear-gradient(90deg,rgba(154,123,79,0.12),transparent)}[data-v-011f273d] .content-line.indent-1{padding-left:18px}[data-v-011f273d] .content-line.indent-2{padding-left:36px}[data-v-011f273d] .content-line.indent-3{padding-left:54px}[data-v-011f273d] .tk-code{background:rgba(255,255,255,0.8);color:#7a4f2f;padding:0 4px;border-radius:4px;border:1px solid rgba(120,90,50,0.3);margin:0 2px}[data-v-011f273d] .tk-keyword{color:#7a4f2f;font-weight:900}[data-v-011f273d] .tk-number{color:#7a5d2f;font-weight:800}[data-v-011f273d] .tk-dice{color:#9a6b3f;background:rgba(154,123,79,0.15);padding:0 3px;border-radius:3px;border:1px solid rgba(120,90,50,0.25)}[data-v-011f273d] .tk-success{color:#2f7a4f;font-weight:800}[data-v-011f273d] .tk-fail{color:#a33f3f;font-weight:800}[data-v-011f273d] .tk-damage{color:#a33f3f;font-weight:900}[data-v-011f273d] .tk-heal{color:#2f7a4f;font-weight:900}[data-v-011f273d] .tk-bracket{color:#7a4f2f}[data-v-011f273d] .tk-arrow{color:#9a6b3f;font-weight:900;margin:0 4px}[data-v-011f273d] .tk-separator{color:#6b4f3e;margin:0 6px;opacity:0.6}@media (max-width:768px){[data-v-011f273d] .cr-label{max-width:calc(85vw - 60px)}[data-v-011f273d] .cr-content{margin:8px 0 12px 12px}}@media (max-width:768px){.market-tabs[data-v-011f273d]{flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}.market-tab[data-v-011f273d]{padding:4px 8px;font-size:12px}.attr-grid[data-v-011f273d]{gap:8px}.attr-row[data-v-011f273d]{grid-template-columns:1fr auto;align-items:center}.a-base[data-v-011f273d]{grid-column:1/-1}.a-btn[data-v-011f273d]{padding:4px 10px}.a-input[data-v-011f273d]{width:54px;height:32px}.a-input[data-v-011f273d]::-webkit-outer-spin-button,.a-input[data-v-011f273d]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.a-input[type=number][data-v-011f273d]{-moz-appearance:textfield}.evo-info[data-v-011f273d]{flex-direction:column;gap:4px;align-items:flex-start}.char-row[data-v-011f273d],.bl-row[data-v-011f273d]{gap:6px}.chip-btn[data-v-011f273d]{padding:4px 8px;font-size:12px}.market-footer[data-v-011f273d]{flex-direction:column;gap:8px;align-items:stretch}.market-tab[data-v-011f273d]{padding:4px 10px;border-radius:8px;border:1px solid rgba(120,90,50,0.35);background:rgba(255,255,255,0.7);color:#5a4a3a;cursor:pointer;font-weight:700;transition:all 0.2s ease}.market-tab[data-v-011f273d]:hover{background:rgba(255,255,255,0.8);transform:translateY(-1px)}.market-tab.a[data-v-011f273d]{background:rgba(255,248,235,0.9);border-color:rgba(120,90,50,0.55);color:#4a3a2a;box-shadow:0 0 0 2px rgba(212,196,160,0.15)}}.parchment .story[data-v-011f273d]{--unl-dialog:#7a5633;--unl-system:#8b7355;--unl-em:#8b6f47;--unl-quote:#6b5a45}html[data-unlimited-theme='default']{--unl-dialog:#7a5633;--unl-system:#8b7355;--unl-em:#8b6f47;--unl-quote:#6b5a45}html[data-unlimited-theme='parchment']{--unl-dialog:#7a5633;--unl-system:#8b7355;--unl-em:#8b6f47;--unl-quote:#6b5a45}.story[data-v-011f273d] .s-dialog{color:var(--unl-dialog) !important}.story[data-v-011f273d] .s-dialog-inline{color:var(--unl-dialog) !important;font-weight:700}.story[data-v-011f273d] .s-system{color:var(--unl-system) !important;font-weight:800}.story[data-v-011f273d] em{color:var(--unl-em) !important;font-style:italic}.story[data-v-011f273d] .s-quote{color:var(--unl-quote) !important;border-left:3px solid #9a8c78;padding-left:8px;display:block}::global(html[data-unlimited-theme='unl-night']) .parchment[data-v-011f273d]{background:#24282e !important;border-color:rgba(255,255,255,0.14) !important;box-shadow:0 8px 22px rgba(0,0,0,0.6),0 0 0 1px rgba(255,255,255,0.06) inset !important}::global(html[data-unlimited-theme='unl-night']) .parchment .head[data-v-011f273d]{color:#ffd68a}::global(html[data-unlimited-theme='unl-night']) .parchment .story[data-v-011f273d]{color:#e6e9ee !important;--unl-dialog:#ffd68a;--unl-system:#c4ccd6;--unl-em:#ffd68a;--unl-quote:#9ca7b7}::global(html[data-unlimited-theme='unl-night']) .parchment .story[data-v-011f273d] em{color:#ffd68a !important;font-weight:600}::global(html[data-unlimited-theme='unl-night']) .parchment .story[data-v-011f273d] .s-dialog{color:#ffd68a !important}::global(html[data-unlimited-theme='unl-night']) .parchment .story[data-v-011f273d] .s-system{color:#c4ccd6 !important;font-weight:800}::global(html[data-unlimited-theme='unl-night']) .parchment .story[data-v-011f273d] .s-quote{color:#9ca7b7 !important;border-left-color:#5f6c80 !important}::global(html[data-unlimited-theme='unl-night']) .market-tab[data-v-011f273d]{background:rgba(255,255,255,0.08);border-color:rgba(255,255,255,0.18);color:#e6e9ee}::global(html[data-unlimited-theme='unl-night']) .market-tab.a[data-v-011f273d]{background:rgba(255,255,255,0.16);border-color:rgba(255,255,255,0.28);color:#fff}::global(html[data-unlimited-theme='unl-night']) .item[data-v-011f273d]{background:rgba(255,255,255,0.06);border-color:rgba(255,255,255,0.18)}::global(html[data-unlimited-theme='unl-night']) .gear[data-v-011f273d],::global(html[data-unlimited-theme='unl-night']) .theme-toggle[data-v-011f273d]{background:rgba(0,0,0,0.2);border-color:rgba(255,255,255,0.2);color:#ffd68a}::global(html[data-unlimited-theme='unl-night']) .opts-card[data-v-011f273d]{background:rgba(255,255,255,0.06);border-color:rgba(255,255,255,0.18)}::global(html[data-unlimited-theme='unl-night']) .evo-section[data-v-011f273d]{background:rgba(255,255,255,0.06);border-color:rgba(255,255,255,0.18)}::global(html[data-unlimited-theme='unl-night']) .tabs .tab[data-v-011f273d]{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.2);color:#e6e9ee}::global(html[data-unlimited-theme='unl-night']) .tabs .tab.a[data-v-011f273d]{background:rgba(255,255,255,0.16);border-color:rgba(255,255,255,0.28);color:#ffffff}::global(html[data-unlimited-theme='unl-night']) .btn[data-v-011f273d]{background:#3a4250;color:#e6e9ee;border:1px solid #6c7a90}::global(html[data-unlimited-theme='unl-night']) .btn.small[data-v-011f273d]{background:#3a4250}::global(html[data-unlimited-theme='unl-night']) .a-btn[data-v-011f273d]{background:#3a4250;color:#e6e9ee;border:1px solid #6c7a90}::global(html[data-unlimited-theme='unl-night']) input.a-input[data-v-011f273d]{background:#2d333b;color:#e6e9ee;border-color:#6c7a90}::global(html[data-unlimited-theme='unl-night']) .sum[data-v-011f273d]{color:#c9d1d9}::global(html[data-unlimited-theme='unl-night']) .sum .warn[data-v-011f273d]{color:#ff7a7a}

html[data-unlimited-theme='unl-night'] .parchment{background:#24282e !important;border-color:rgba(255,255,255,0.14) !important;box-shadow:0 12px 28px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.06) inset !important}html[data-unlimited-theme='unl-night'] .parchment .head{color:#ffd68a}html[data-unlimited-theme='unl-night'] .parchment .story{color:#e6e9ee !important}html[data-unlimited-theme='parchment'] .parchment .story{--unl-dialog:#7a5633;--unl-system:#8b7355;--unl-em:#8b6f47;--unl-quote:#6b5a45}html[data-unlimited-theme='unl-night'] .parchment .story{--unl-dialog:#ffd68a;--unl-system:#c4ccd6;--unl-em:#ffd68a;--unl-quote:#9ca7b7}html[data-unlimited-theme] .parchment .story :is(.s-dialog,.s-dialog-inline,.dialog,.dialogue,.th-dialog){color:var(--unl-dialog) !important}html[data-unlimited-theme] .parchment .story :is(.s-system,.system,.th-system){color:var(--unl-system) !important;font-weight:800}html[data-unlimited-theme] .parchment .story :is(.s-quote,blockquote,.th-quote){color:var(--unl-quote) !important;border-left:3px solid var(--unl-quote) !important;padding-left:8px;display:block}html[data-unlimited-theme] .parchment .story :is(em,i,.inner,.thought,.thinking){color:var(--unl-em) !important}html[data-unlimited-theme='unl-night'] .tabs .tab{background:linear-gradient(180deg,#3a4250,#303742);color:#e6e9ee;border:1px solid rgba(255,255,255,0.22)}html[data-unlimited-theme='unl-night'] .tabs .tab.a{background:linear-gradient(180deg,#465064,#3a4250);color:#ffffff;border-color:rgba(255,255,255,0.32)}html[data-unlimited-theme='unl-night'] .btn,html[data-unlimited-theme='unl-night'] .a-btn{background:#3a4250;color:#e6e9ee;border:1px solid #6c7a90}html[data-unlimited-theme='unl-night'] input.a-input{background:#2d333b;color:#e6e9ee;border-color:#6c7a90}

/*! tailwindcss v4.1.12 | MIT License | https://tailwindcss.com */.parchment[data-v-a6368772]{position:relative;background:#faf8f5;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.65),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.5),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.04),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.01 0.03"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23f)"/></svg>');border:1px solid rgba(160,140,120,0.25);border-radius:12px;padding:16px 18px;box-shadow:0 8px 24px rgba(0,0,0,0.12),0 2px 1px rgba(255,255,255,0.8) inset,0 0 0 2px rgba(160,140,120,0.15),inset 0 0 85px rgba(160,140,120,0.08);outline:1px solid rgba(255,255,255,0.3);outline-offset:-2px;clip-path:path('M0,0 Hcalc(100% - 24px) Q100%,0 100%,24 V100 H0 Z')}html[data-unlimited-theme='parchment']{background:#f5f2e9;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.45),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.3),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.08),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="parchment-noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.02 0.06"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23parchment-noise)"/></svg>');border-color:rgba(120,90,50,0.45);box-shadow:0 14px 36px rgba(0,0,0,0.38),0 2px 1px rgba(255,255,255,0.5) inset,0 0 0 2px rgba(120,90,50,0.45),inset 0 0 85px rgba(120,90,50,0.28)}html[data-unlimited-theme='unl-night']{background:#24282e;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.06),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.04),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.32),transparent 42%);border-color:rgba(255,255,255,0.14);box-shadow:0 12px 28px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.06) inset,inset 0 0 65px rgba(255,255,255,0.04)}html[data-unlimited-theme='unl-night']{background:#3a4250;color:#e6e9ee;border-color:#6c7a90}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#3a4250,#303742);color:#e6e9ee;border-color:rgba(255,255,255,0.22)}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#465064,#3a4250);color:#fff;border-color:rgba(255,255,255,0.32)}.parchment[data-v-a6368772]:after{left:auto;right:0;top:0;width:0;height:0;border-left:24px solid transparent;border-bottom:24px solid rgba(0,0,0,0.15);border-top:none;background:none;border-radius:0;filter:blur(0.6px)}.parchment .corner-fold[data-v-a6368772]{display:none}.parchment .tear[data-v-a6368772]{position:absolute;left:8px;right:8px;bottom:-6px;height:14px;pointer-events:none;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="24" viewBox="0 0 600 24"><path d="M0,12 C40,6 60,18 100,12 C140,6 160,18 200,12 C240,6 260,18 300,12 C340,6 360,18 400,12 C440,6 460,18 500,12 C540,6 560,18 600,12 L600,24 L0,24 Z" fill="rgba(0,0,0,0.18)"/></svg>') repeat-x left/600px 24px;filter:blur(0.4px)}.parchment[data-v-a6368772]:before,.parchment[data-v-a6368772]:after{content:'';position:absolute;pointer-events:none}.parchment[data-v-a6368772]:before{left:0;right:0;top:0;height:12px;background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0));border-top-left-radius:12px;border-top-right-radius:12px}.parchment[data-v-a6368772]:after{left:0;right:0;bottom:0;height:12px;background:linear-gradient(0deg,rgba(0,0,0,0.16),rgba(0,0,0,0));border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tabs[data-v-a6368772]{display:flex;gap:6px;margin-bottom:10px;overflow-x:auto;-webkit-overflow-scrolling:touch}.tab[data-v-a6368772]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.5);background:linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 2px 4px rgba(0,0,0,0.12)}@media (max-width:768px){.page[data-v-a6368772]{padding:8px}.parchment[data-v-a6368772]{padding:12px 12px}.tab[data-v-a6368772]{padding:6px 10px 6px 14px;font-size:12px}.head[data-v-a6368772]{font-size:18px}}.tab[data-v-a6368772]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.35);background:linear-gradient(180deg,#fdfbf7,#f5f0e8);color:#5a4a3a;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 2px 3px rgba(0,0,0,0.08);transition:all 0.2s ease}.tab[data-v-a6368772]:hover{background:linear-gradient(180deg,#fffefa,#f8f3eb);transform:translateY(-1px)}.tab[data-v-a6368772]:before{content:'';position:absolute;left:8px;top:50%;transform:translateY(-50%);width:8px;height:8px;background:radial-gradient(circle at center,#b8965f 0%,#8a6b3f 80%);border-radius:50%;box-shadow:0 0 0 2px #fdfbf7 inset,0 0 0 3px rgba(120,90,50,0.25) inset}.tab.a[data-v-a6368772]{background:linear-gradient(180deg,#fff8eb,#f5e8d3);border-color:rgba(120,90,50,0.55);color:#4a3a2a;box-shadow:0 1px 0 rgba(255,255,255,0.9) inset,0 2px 4px rgba(0,0,0,0.1),0 0 0 2px rgba(212,196,160,0.15)}.head[data-v-a6368772]{font-family:'Satisfy','Cinzel','STKaiti','KaiTi',serif;letter-spacing:0.06em;margin-bottom:8px;font-size:20px;color:#3b2f2f;text-shadow:0 1px 0 rgba(255,255,255,0.8),0 2px 0 rgba(0,0,0,0.08);display:inline-flex;align-items:center;gap:8px}.head[data-v-a6368772]:after{content:'';display:inline-block;width:60px;height:14px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28" viewBox="0 0 120 28"><path d="M2,14 Q20,8 38,14 T74,14 T110,14" stroke="rgba(120,90,50,0.7)" stroke-width="2" fill="none" stroke-linecap="round"/></svg>') center/contain no-repeat}.btn[data-v-a6368772]{padding:8px 12px;border-radius:8px;border:1px solid rgba(120,90,50,0.5);background:radial-gradient(circle at 16px 50%,rgba(120,90,50,0.25),rgba(120,90,50,0) 30px),linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;cursor:pointer;font-weight:700;letter-spacing:0.03em;box-shadow:0 2px 0 rgba(255,255,255,0.5) inset,0 2px 6px rgba(0,0,0,0.12)}.btn[data-v-a6368772]:before{content:'';display:inline-block;vertical-align:middle;margin-right:8px;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#b03030,#7a2121 65%);box-shadow:0 0 0 2px #f7edd0 inset,0 0 0 3px rgba(120,90,50,0.35) inset}.kv[data-v-a6368772]{display:grid;grid-template-columns:110px 1fr;gap:6px}.k[data-v-a6368772]{color:#6b4f3e;font-weight:600}.v[data-v-a6368772]{color:#3b2f2f}.bar[data-v-a6368772]{height:10px;border:1px solid rgba(120,90,50,0.55);border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.7),rgba(255,255,255,0.4));overflow:hidden}.bar .val[data-v-a6368772]{height:100%;background:linear-gradient(90deg,#d6b768,#a88844);box-shadow:0 0 6px rgba(168,136,68,0.7)}.chips[data-v-a6368772]{display:flex;flex-wrap:wrap;gap:6px}.chip[data-v-a6368772]{padding:2px 8px;border-radius:999px;background:rgba(154,123,79,0.15);border:1px solid rgba(120,90,50,0.35);font-size:12px}.label-strong[data-v-a6368772]{color:#7a4f2f;font-weight:900;background:rgba(122,79,47,0.08);border-left:3px solid rgba(122,79,47,0.5);padding:0 4px;border-radius:2px}.page[data-v-a6368772]{padding:10px}

/*! tailwindcss v4.1.12 | MIT License | https://tailwindcss.com */.parchment[data-v-44e3b804]{position:relative;background:#faf8f5;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.65),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.5),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.04),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.01 0.03"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23f)"/></svg>');border:1px solid rgba(160,140,120,0.25);border-radius:12px;padding:16px 18px;box-shadow:0 8px 24px rgba(0,0,0,0.12),0 2px 1px rgba(255,255,255,0.8) inset,0 0 0 2px rgba(160,140,120,0.15),inset 0 0 85px rgba(160,140,120,0.08);outline:1px solid rgba(255,255,255,0.3);outline-offset:-2px;clip-path:path('M0,0 Hcalc(100% - 24px) Q100%,0 100%,24 V100 H0 Z')}html[data-unlimited-theme='parchment']{background:#f5f2e9;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.45),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.3),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.08),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="parchment-noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.02 0.06"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23parchment-noise)"/></svg>');border-color:rgba(120,90,50,0.45);box-shadow:0 14px 36px rgba(0,0,0,0.38),0 2px 1px rgba(255,255,255,0.5) inset,0 0 0 2px rgba(120,90,50,0.45),inset 0 0 85px rgba(120,90,50,0.28)}html[data-unlimited-theme='unl-night']{background:#24282e;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.06),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.04),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.32),transparent 42%);border-color:rgba(255,255,255,0.14);box-shadow:0 12px 28px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.06) inset,inset 0 0 65px rgba(255,255,255,0.04)}html[data-unlimited-theme='unl-night']{background:#3a4250;color:#e6e9ee;border-color:#6c7a90}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#3a4250,#303742);color:#e6e9ee;border-color:rgba(255,255,255,0.22)}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#465064,#3a4250);color:#fff;border-color:rgba(255,255,255,0.32)}.parchment[data-v-44e3b804]:after{left:auto;right:0;top:0;width:0;height:0;border-left:24px solid transparent;border-bottom:24px solid rgba(0,0,0,0.15);border-top:none;background:none;border-radius:0;filter:blur(0.6px)}.parchment .corner-fold[data-v-44e3b804]{display:none}.parchment .tear[data-v-44e3b804]{position:absolute;left:8px;right:8px;bottom:-6px;height:14px;pointer-events:none;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="24" viewBox="0 0 600 24"><path d="M0,12 C40,6 60,18 100,12 C140,6 160,18 200,12 C240,6 260,18 300,12 C340,6 360,18 400,12 C440,6 460,18 500,12 C540,6 560,18 600,12 L600,24 L0,24 Z" fill="rgba(0,0,0,0.18)"/></svg>') repeat-x left/600px 24px;filter:blur(0.4px)}.parchment[data-v-44e3b804]:before,.parchment[data-v-44e3b804]:after{content:'';position:absolute;pointer-events:none}.parchment[data-v-44e3b804]:before{left:0;right:0;top:0;height:12px;background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0));border-top-left-radius:12px;border-top-right-radius:12px}.parchment[data-v-44e3b804]:after{left:0;right:0;bottom:0;height:12px;background:linear-gradient(0deg,rgba(0,0,0,0.16),rgba(0,0,0,0));border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tabs[data-v-44e3b804]{display:flex;gap:6px;margin-bottom:10px;overflow-x:auto;-webkit-overflow-scrolling:touch}.tab[data-v-44e3b804]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.5);background:linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 2px 4px rgba(0,0,0,0.12)}@media (max-width:768px){.page[data-v-44e3b804]{padding:8px}.parchment[data-v-44e3b804]{padding:12px 12px}.tab[data-v-44e3b804]{padding:6px 10px 6px 14px;font-size:12px}.head[data-v-44e3b804]{font-size:18px}}.tab[data-v-44e3b804]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.35);background:linear-gradient(180deg,#fdfbf7,#f5f0e8);color:#5a4a3a;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 2px 3px rgba(0,0,0,0.08);transition:all 0.2s ease}.tab[data-v-44e3b804]:hover{background:linear-gradient(180deg,#fffefa,#f8f3eb);transform:translateY(-1px)}.tab[data-v-44e3b804]:before{content:'';position:absolute;left:8px;top:50%;transform:translateY(-50%);width:8px;height:8px;background:radial-gradient(circle at center,#b8965f 0%,#8a6b3f 80%);border-radius:50%;box-shadow:0 0 0 2px #fdfbf7 inset,0 0 0 3px rgba(120,90,50,0.25) inset}.tab.a[data-v-44e3b804]{background:linear-gradient(180deg,#fff8eb,#f5e8d3);border-color:rgba(120,90,50,0.55);color:#4a3a2a;box-shadow:0 1px 0 rgba(255,255,255,0.9) inset,0 2px 4px rgba(0,0,0,0.1),0 0 0 2px rgba(212,196,160,0.15)}.head[data-v-44e3b804]{font-family:'Satisfy','Cinzel','STKaiti','KaiTi',serif;letter-spacing:0.06em;margin-bottom:8px;font-size:20px;color:#3b2f2f;text-shadow:0 1px 0 rgba(255,255,255,0.8),0 2px 0 rgba(0,0,0,0.08);display:inline-flex;align-items:center;gap:8px}.head[data-v-44e3b804]:after{content:'';display:inline-block;width:60px;height:14px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28" viewBox="0 0 120 28"><path d="M2,14 Q20,8 38,14 T74,14 T110,14" stroke="rgba(120,90,50,0.7)" stroke-width="2" fill="none" stroke-linecap="round"/></svg>') center/contain no-repeat}.btn[data-v-44e3b804]{padding:8px 12px;border-radius:8px;border:1px solid rgba(120,90,50,0.5);background:radial-gradient(circle at 16px 50%,rgba(120,90,50,0.25),rgba(120,90,50,0) 30px),linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;cursor:pointer;font-weight:700;letter-spacing:0.03em;box-shadow:0 2px 0 rgba(255,255,255,0.5) inset,0 2px 6px rgba(0,0,0,0.12)}.btn[data-v-44e3b804]:before{content:'';display:inline-block;vertical-align:middle;margin-right:8px;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#b03030,#7a2121 65%);box-shadow:0 0 0 2px #f7edd0 inset,0 0 0 3px rgba(120,90,50,0.35) inset}.kv[data-v-44e3b804]{display:grid;grid-template-columns:110px 1fr;gap:6px}.k[data-v-44e3b804]{color:#6b4f3e;font-weight:600}.v[data-v-44e3b804]{color:#3b2f2f}.bar[data-v-44e3b804]{height:10px;border:1px solid rgba(120,90,50,0.55);border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.7),rgba(255,255,255,0.4));overflow:hidden}.bar .val[data-v-44e3b804]{height:100%;background:linear-gradient(90deg,#d6b768,#a88844);box-shadow:0 0 6px rgba(168,136,68,0.7)}.chips[data-v-44e3b804]{display:flex;flex-wrap:wrap;gap:6px}.chip[data-v-44e3b804]{padding:2px 8px;border-radius:999px;background:rgba(154,123,79,0.15);border:1px solid rgba(120,90,50,0.35);font-size:12px}.label-strong[data-v-44e3b804]{color:#7a4f2f;font-weight:900;background:rgba(122,79,47,0.08);border-left:3px solid rgba(122,79,47,0.5);padding:0 4px;border-radius:2px}.page[data-v-44e3b804]{padding:10px}

/*! tailwindcss v4.1.12 | MIT License | https://tailwindcss.com */.parchment[data-v-2f284233]{position:relative;background:#faf8f5;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.65),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.5),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.04),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="f"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.01 0.03"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23f)"/></svg>');border:1px solid rgba(160,140,120,0.25);border-radius:12px;padding:16px 18px;box-shadow:0 8px 24px rgba(0,0,0,0.12),0 2px 1px rgba(255,255,255,0.8) inset,0 0 0 2px rgba(160,140,120,0.15),inset 0 0 85px rgba(160,140,120,0.08);outline:1px solid rgba(255,255,255,0.3);outline-offset:-2px;clip-path:path('M0,0 Hcalc(100% - 24px) Q100%,0 100%,24 V100 H0 Z')}html[data-unlimited-theme='parchment']{background:#f5f2e9;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.45),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.3),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.08),transparent 42%),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><defs><filter id="parchment-noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 0.02 0.06"/></feComponentTransfer></filter></defs><rect width="256" height="256" fill="transparent"/><rect width="256" height="256" filter="url(%23parchment-noise)"/></svg>');border-color:rgba(120,90,50,0.45);box-shadow:0 14px 36px rgba(0,0,0,0.38),0 2px 1px rgba(255,255,255,0.5) inset,0 0 0 2px rgba(120,90,50,0.45),inset 0 0 85px rgba(120,90,50,0.28)}html[data-unlimited-theme='unl-night']{background:#24282e;background-image:radial-gradient(circle at 14% 12%,rgba(255,255,255,0.06),transparent 32%),radial-gradient(circle at 86% 22%,rgba(255,255,255,0.04),transparent 36%),radial-gradient(circle at 50% 78%,rgba(0,0,0,0.32),transparent 42%);border-color:rgba(255,255,255,0.14);box-shadow:0 12px 28px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.06) inset,inset 0 0 65px rgba(255,255,255,0.04)}html[data-unlimited-theme='unl-night']{background:#3a4250;color:#e6e9ee;border-color:#6c7a90}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#3a4250,#303742);color:#e6e9ee;border-color:rgba(255,255,255,0.22)}html[data-unlimited-theme='unl-night']{background:linear-gradient(180deg,#465064,#3a4250);color:#fff;border-color:rgba(255,255,255,0.32)}.parchment[data-v-2f284233]:after{left:auto;right:0;top:0;width:0;height:0;border-left:24px solid transparent;border-bottom:24px solid rgba(0,0,0,0.15);border-top:none;background:none;border-radius:0;filter:blur(0.6px)}.parchment .corner-fold[data-v-2f284233]{display:none}.parchment .tear[data-v-2f284233]{position:absolute;left:8px;right:8px;bottom:-6px;height:14px;pointer-events:none;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="24" viewBox="0 0 600 24"><path d="M0,12 C40,6 60,18 100,12 C140,6 160,18 200,12 C240,6 260,18 300,12 C340,6 360,18 400,12 C440,6 460,18 500,12 C540,6 560,18 600,12 L600,24 L0,24 Z" fill="rgba(0,0,0,0.18)"/></svg>') repeat-x left/600px 24px;filter:blur(0.4px)}.parchment[data-v-2f284233]:before,.parchment[data-v-2f284233]:after{content:'';position:absolute;pointer-events:none}.parchment[data-v-2f284233]:before{left:0;right:0;top:0;height:12px;background:linear-gradient(180deg,rgba(0,0,0,0.18),rgba(0,0,0,0));border-top-left-radius:12px;border-top-right-radius:12px}.parchment[data-v-2f284233]:after{left:0;right:0;bottom:0;height:12px;background:linear-gradient(0deg,rgba(0,0,0,0.16),rgba(0,0,0,0));border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tabs[data-v-2f284233]{display:flex;gap:6px;margin-bottom:10px;overflow-x:auto;-webkit-overflow-scrolling:touch}.tab[data-v-2f284233]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.5);background:linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 2px 4px rgba(0,0,0,0.12)}@media (max-width:768px){.page[data-v-2f284233]{padding:8px}.parchment[data-v-2f284233]{padding:12px 12px}.tab[data-v-2f284233]{padding:6px 10px 6px 14px;font-size:12px}.head[data-v-2f284233]{font-size:18px}}.tab[data-v-2f284233]{position:relative;padding:8px 14px 8px 18px;border:1px solid rgba(120,90,50,0.35);background:linear-gradient(180deg,#fdfbf7,#f5f0e8);color:#5a4a3a;border-radius:8px 10px 10px 8px;cursor:pointer;font-weight:700;letter-spacing:0.04em;box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 2px 3px rgba(0,0,0,0.08);transition:all 0.2s ease}.tab[data-v-2f284233]:hover{background:linear-gradient(180deg,#fffefa,#f8f3eb);transform:translateY(-1px)}.tab[data-v-2f284233]:before{content:'';position:absolute;left:8px;top:50%;transform:translateY(-50%);width:8px;height:8px;background:radial-gradient(circle at center,#b8965f 0%,#8a6b3f 80%);border-radius:50%;box-shadow:0 0 0 2px #fdfbf7 inset,0 0 0 3px rgba(120,90,50,0.25) inset}.tab.a[data-v-2f284233]{background:linear-gradient(180deg,#fff8eb,#f5e8d3);border-color:rgba(120,90,50,0.55);color:#4a3a2a;box-shadow:0 1px 0 rgba(255,255,255,0.9) inset,0 2px 4px rgba(0,0,0,0.1),0 0 0 2px rgba(212,196,160,0.15)}.head[data-v-2f284233]{font-family:'Satisfy','Cinzel','STKaiti','KaiTi',serif;letter-spacing:0.06em;margin-bottom:8px;font-size:20px;color:#3b2f2f;text-shadow:0 1px 0 rgba(255,255,255,0.8),0 2px 0 rgba(0,0,0,0.08);display:inline-flex;align-items:center;gap:8px}.head[data-v-2f284233]:after{content:'';display:inline-block;width:60px;height:14px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="28" viewBox="0 0 120 28"><path d="M2,14 Q20,8 38,14 T74,14 T110,14" stroke="rgba(120,90,50,0.7)" stroke-width="2" fill="none" stroke-linecap="round"/></svg>') center/contain no-repeat}.btn[data-v-2f284233]{padding:8px 12px;border-radius:8px;border:1px solid rgba(120,90,50,0.5);background:radial-gradient(circle at 16px 50%,rgba(120,90,50,0.25),rgba(120,90,50,0) 30px),linear-gradient(180deg,#f7edd0,#e9d7a8);color:#3b2f2f;cursor:pointer;font-weight:700;letter-spacing:0.03em;box-shadow:0 2px 0 rgba(255,255,255,0.5) inset,0 2px 6px rgba(0,0,0,0.12)}.btn[data-v-2f284233]:before{content:'';display:inline-block;vertical-align:middle;margin-right:8px;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 35% 35%,#b03030,#7a2121 65%);box-shadow:0 0 0 2px #f7edd0 inset,0 0 0 3px rgba(120,90,50,0.35) inset}.kv[data-v-2f284233]{display:grid;grid-template-columns:110px 1fr;gap:6px}.k[data-v-2f284233]{color:#6b4f3e;font-weight:600}.v[data-v-2f284233]{color:#3b2f2f}.bar[data-v-2f284233]{height:10px;border:1px solid rgba(120,90,50,0.55);border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,0.7),rgba(255,255,255,0.4));overflow:hidden}.bar .val[data-v-2f284233]{height:100%;background:linear-gradient(90deg,#d6b768,#a88844);box-shadow:0 0 6px rgba(168,136,68,0.7)}.chips[data-v-2f284233]{display:flex;flex-wrap:wrap;gap:6px}.chip[data-v-2f284233]{padding:2px 8px;border-radius:999px;background:rgba(154,123,79,0.15);border:1px solid rgba(120,90,50,0.35);font-size:12px}.label-strong[data-v-2f284233]{color:#7a4f2f;font-weight:900;background:rgba(122,79,47,0.08);border-left:3px solid rgba(122,79,47,0.5);padding:0 4px;border-radius:2px}.page[data-v-2f284233]{padding:10px}.parchment[data-v-2f284233]{min-height:800px}

</style></head><body><div id="app"></div></body>